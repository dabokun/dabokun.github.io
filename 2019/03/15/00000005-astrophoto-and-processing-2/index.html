<!DOCTYPE html><html class="appearance-auto" lang="en"><head><meta charset="UTF-8"><title>ほしよみ社会塵のブログ</title><meta name="description" content="やっていきます"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="注意: この記事は過去の記事を移行したものです．
あいさつこんにちは．先程日本天文学会での発表を終えてきましたので，その内容を簡単にまとめておきたいと思います．そして，だいぶ前の記事天体写真とその処理過程について【前編】の伏線をここで回収したいと思います．なぜこのタイミングなのか？それは読み進めて行けばわかります笑


発表内容今回発表してきた内容は，主にAFLAK（Advanced Framework for Learning Astrophysical Knowledge）と呼ばれる，天体データ処理用フレームワークについてでした．インストール方法等はこちら（http://aflak.jp）をご覧ください．
背景最近，銀河等の天体に対して，面分光と呼ばれる技術を用いて得られる多波長データと呼ばれる類のデー.."><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="ほしよみ社会塵のブログ" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">ほしよみ社会塵のブログ</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">天体写真とその処理過程について【後編】</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Click back to the top</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/null">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/null">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%81%82%E3%81%84%E3%81%95%E3%81%A4"><span class="toc-text">あいさつ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%99%BA%E8%A1%A8%E5%86%85%E5%AE%B9"><span class="toc-text">発表内容</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%83%8C%E6%99%AF"><span class="toc-text">背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E6%A1%88%E6%89%8B%E6%B3%95%EF%BC%88AFLAK%EF%BC%89"><span class="toc-text">提案手法（AFLAK）</span></a></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/%E5%86%99%E7%9C%9F"><i class="tag post-item-tag">写真</i></a><a href="/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F"><i class="tag post-item-tag">天体写真</i></a><a href="/tags/%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86"><i class="tag post-item-tag">画像処理</i></a><a href="/tags/SI8"><i class="tag post-item-tag">SI8</i></a><a href="/tags/Adobe%20Photoshop"><i class="tag post-item-tag">Adobe Photoshop</i></a><a href="/tags/Adobe%20Lightroom"><i class="tag post-item-tag">Adobe Lightroom</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">天体写真とその処理過程について【後編】</h1><time class="has-text-grey" datetime="2019-03-15T09:47:00.000Z">2019-03-15</time><article class="mt-2 post-content"><p><strong>注意: この記事は過去の記事を移行したものです．</strong><br><br><br></p>
<h3 id="あいさつ"><a href="#あいさつ" class="headerlink" title="あいさつ"></a>あいさつ</h3><p>こんにちは．先程日本天文学会での発表を終えてきましたので，その内容を簡単にまとめておきたいと思います．そして，だいぶ前の記事<br><a href="/2018/12/28/00000001-astrophoto-and-processing/"><strong>天体写真とその処理過程について【前編】</strong></a><br>の伏線をここで回収したいと思います．なぜこのタイミングなのか？それは読み進めて行けばわかります笑</p>
<span id="more"></span>

<h3 id="発表内容"><a href="#発表内容" class="headerlink" title="発表内容"></a>発表内容</h3><p>今回発表してきた内容は，主にAFLAK（Advanced Framework for Learning Astrophysical Knowledge）と呼ばれる，天体データ処理用フレームワークについてでした．インストール方法等はこちら（<a target="_blank" rel="noopener" href="http://aflak.jp/">http://aflak.jp</a>）をご覧ください．</p>
<h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><p>最近，銀河等の天体に対して，面分光と呼ばれる技術を用いて得られる多波長データと呼ばれる類のデータを解析することが天文学者の間で盛んになされています．この多波長データというのは，通常RGBの3チャンネルを持つ写真のデータとは異なり，波長方向に数千～数万もの大きな次元サイズをもつデータを指します．それぞれのチャンネルの波長幅はなんと1nmほど，天体写真を撮っている方であれば，「究極のナローバンド」と考えれば良いでしょう笑．このような大規模かつ高次元なデータを扱うソフトウェアは従来から存在しますが，基本的にコマンドベースのもの，あるいは解析内容を天文学者自らがプログラムの形で記述するようなものでした．</p>
<h4 id="提案手法（AFLAK）"><a href="#提案手法（AFLAK）" class="headerlink" title="提案手法（AFLAK）"></a>提案手法（AFLAK）</h4><p>そこで，AFLAKと呼ばれるフレームワークでは，ビジュアルプログラミング環境を提供することによって，ユーザがより効率的に解析を行うことを支援します．以下のようなメリットが挙げられます．</p>
<ul>
<li>パラメタの変更などが即座に反映され，ユーザに対する迅速なフィードバックを行う．</li>
<li><font color="red"><strong>解析そのものの内容の管理が容易となる．</strong></font></li>
</ul>
<p>以下のスクリーンショットをご覧ください．画面上側に何やらグラフのようなもの，画面下側に２つの出力結果が見て取れます．画面上側のエディタ（この中にあるそれぞれのボックスをノードと呼びまして，エディタ全体をノードエディタと呼びます）をユーザは操作し所望の解析を行います．データは左から右へと流れていくと考えてください．まずいちばん左上のPathというノードで，ファイルを選択します．このソフトウェアではfits形式のファイルを扱うことになっているので，選択したファイルを次のopen_fitsというノードで開きます．fitsにはHDUというデータユニット（データの塊です）が存在しており，複数の天体データを保持できるようになっているので，次のfits_to_imageというノードでどのデータを取り出すかを選択しています．この時点で，今回赤経赤緯および波長方向の三次元のデータになっていますので，ここからextract_waveノードとslice_one_frameノードを使って，結果のイメージを出しています．前者が輝度のスペクトル，後者が，ある波長でスライスした時の輝度の二次元イメージになります．</p>
<p><img src="/aflak.png"></p>
<p>ここで，例えばslice_one_frameノードの中のパラメタを変更すると，フレームの画像はすぐに更新されます．これがユーザに対する迅速なフィードバックです．<font color="red"><strong>また，解析自体の内容はこのグラフの構造自体が持っています．このようなグラフ構造をデータとして保存するのはさほど難しくはないです．</strong></font></p>
<p>…さて，発表ではこのあと私が実装した少し複雑な解析例を提示し，天文学者が解析したものと同様の結果が出ましたということを言って，その他の解析例や課題を示して終わったわけです．</p>
<p>で，この研究に携わり始めた頃から，ずっと自分の中で考えていたことがあるんです．<br><br><br><br><br></p>
<p><font color="red"> ……これ，天体写真の画像処理にもめちゃくちゃ使えるのでは？</font></p>
<p>重要なのは，私が先程から赤で書いている部分，<br>「<font color="red"><strong>解析そのものの内容の管理が容易となる．</strong></font>」という部分です．これの「<font color="red"><strong>解析</strong></font>」を「<font color="red"><strong>現像</strong></font>」と読み替えると，理解していただけるのではないでしょうか．私が<a href="/2018/12/28/00000001-astrophoto-and-processing/">前回の記事</a>で指摘した内容を簡単にまとめるとこうです．</p>
<ul>
<li>編集過程は天体写真において，それが科学であろうと芸術であろうと重要ではないか．</li>
<li>にも関わらず，編集過程を管理している人は限りなく少ない．</li>
<li>それは人間の問題ではなく，<font color="red">ソフトウェア側の問題</font>である．もともと，ソフトウェアがそういったことを管理すべきだった．</li>
<li>解決しようという動きがある．例えばステライメージ8にはワークフローの機能が追加されている．ただし，結局レイヤー的な処理にとどまるものと言え，複雑な処理に対応できない可能性がある．</li>
</ul>
<p>私は，このAFLAKがもつ特長は，この<font color="red">ソフトウェア側の問題を根本的に解決するものとなりえる</font>と考えています．このソフトウェアでは解析の「分岐」を表現することができるんです．これがステライメージ8との違いだと考えます．<br>例えば画像をRGB分解して，あるチャンネルだけに処理をかけて合成するということ，そしてその間にかけられる処理はユーザが自由に表現できるんです．そして，何より，<font color="red">その自由な表現を，グラフの形で保存し，共有することができます（当然公開の自由はあると思いますが）．</font></p>
<p>例えば，保存されたあのあこがれの人の処理過程を使って，自分の写真で開いて試してみよう．これはパクりを教唆するわけではありません．むしろ，<font color="red">あのあこがれの人に近づくには何が必要なのか，かえっては，自分なりの表現には何が必要なのかというヒントを得る．</font>こういったことができるようになると考えます．<font color="red">科学において解析の内容を保持することは重要ですが，芸術においても重要なのではないでしょうか．</font></p>
<p>もちろん，このソフトウェアは未だ天体写真ではなく，天文学用のデータに特化したものです．どのような処理ノード，パラメタがあれば写真の用途にも使えるのかは，まだまだ検討していかなければならない段階であると思います．<br>しかし，このソフトウェアは，天体写真の「複雑な現像処理を必要とする」という特性を埋めるものであり，<font color="red">天体写真処理に革命を起こす</font>のではないかと考えています．なぜなら，もし世に出ることがあれば，それは「<font color="red">天体写真は各人が持っている画像処理の腕では実質決まらない</font>」世の訪れを示唆するものであるからです．</p>
<p>コメント，批判，提案等あるかもしれませんが，是非お願いいたします．<br><br><br></p>
<p>注意:以下コメントになります．</p>
<p>ぐっち:</p>
<blockquote>
<p>現状は「天体写真は各人が持っている画像処理の腕で実質決まってしまう」事が多いので画像処理の習得に挫折する事で天文(あるいは天体写真撮影)から遠ざかってしまう人も多いと思います｡<br>“いい天体写真”“すごい天体写真”(この定義が難しいですが)に仕上げるために施された処理過程を解析し､再現可能な処理に再構築することができれば､<br>「天体写真は各人が持っている画像処理の腕では実質決まらない」世<br>が来るかもしれません｡それこそDeepLeaningの世界でしょうか｡<br>期待しています｡</p>
</blockquote>
<br>
astrodabo:
> ぐっちさん
コメントありがとうございます。情報工学を学んでいる人間として本文のような文章を書きました。機械学習が多くの分野で流行っていることや、機械学習による恩恵は大きい、というのは事実です。が、このような芸術的な側面ももつ領域において、なんでもコンピュータにやらせる、というのは、私としてはちょっと違うのかなと思います。
「天体写真は各人が持っている画像処理の腕では実質決まらない」というのは、良くも悪くも、副産物のようなものだと考えています。処理が上手い人にとってそのようなことは受け入れがたいかもしれないという意味ではデメリットにもなりますし、逆に画像処理の敷居が下がるのはメリットだとも思います。
それよりも私が望んでいるのは、処理プロセスを可視化することによって「自分なりの表現を見つける機会が増える」ことです。従来のレイヤー的な処理しかできないソフトウェアでは発見しにくい自分の表現の利点や欠点を発見する機会が増えることで、天体写真という趣味がさらに深まればいいなと考えています。

<br>
ぐっち:
> 4月に入ってしまいましたが､時折思い出したときにこの件について考えていました｡
自動車のオートマが出てきたとき､この(当時の)新技術に対してかなりネガティブな批評や反感があったことと重なりました｡｢車を操る楽しみがなくなる｣｢変速段数が少ない｣｢燃費が悪い｣などけっこう散々でした｡開発を続けてきたことと意識が変わってきたこともあり､今は自動車は大半がオートまでマニュアルの方が少なくなってしまいました｡<br>
天体写真の画像処理については､
・再現性(同じ素材に対して誰が､何度やっても同じ結果が出せる)､
・汎用性(異なる対象に対しても同じプロセスが適用できる)､
・普遍性(特定のソフトやそのバージョンに依存しない)
を持った手法が確立できれば､天体写真における画像処理の比重が少なくなるのではないかと思います｡<br>
これは撮影の比重が相対的に大きくなることを意味するので､撮影地､光学系､カメラ等の差や撮影時の構図の取り方や追尾の手法など､｢天体撮影｣の本質で工夫する領域が増えるのではないかと思います
｢撮影｣した結果が｢画像処理｣のインプットになり､この｢画像処理｣のアウトプットを使って作者の好みによる｢最後の仕上げ｣を行うようなプロセスで天体写真ができるようになれば楽しいかな､と思います｡

<br>
astrodabo:
> ぐっちさん
コメントありがとうございます。新年度が始まって忙しくなかなかブログを見れておらず遅くなって申し訳ありません。<br>
このパラダイムはもともとゲーム開発や3Dモデリング/シェーディング等の分野で使われていまして、それを画像処理フローに輸入できないかという提案なので、(確かに計算資源が近年豊富となってきているというバックグラウンドはありますが)ATのような目新しいテクニックというわけではないですね。ただ何か新しいことをしようとした時に似たような指摘や批判は免れないと考えています。<br>
再現性、汎用性、普遍性にプラスして、本文で記述し忘れていた重要なこととして、「ユーザが思いついた処理を即座にフローの形で表現できる」、すなわちラピッドプロトタイピング可能性というものも挙げられますね。<br>
撮影の比重が重くなるというのは本当にその通りで、構図、追尾、写真の内容で「何か面白いことをする」ということでもって、今よりももっと天体写真の表現の幅が広がればいいな、と考えています。</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2019/05/11/hello/" title="ブログを移行します &amp; はじめまして"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">Previous: ブログを移行します &amp; はじめまして</span></a><a class="button is-default" href="/2019/03/01/00000004-astro-meeting-spring/" title="日本天文学会2019年春季年会で発表します．"><span class="has-text-weight-semibold">Next: 日本天文学会2019年春季年会で発表します．</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="dabokun/dabokun.github.io" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com/astrodabo"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/dabokun"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--></section><p><span>Copyright ©</span><span> dabokun 2025</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/jquery-3.6.1.min.js"></script><script src="/js/jquery-fancybox.min.js"></script><script src="/js/img_zoom.js"></script><script src="/js/post.js"></script></body></html>