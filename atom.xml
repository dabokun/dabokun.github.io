<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ほしよみ社会塵のブログ</title>
  
  
  <link href="http://dabokun.github.io/atom.xml" rel="self"/>
  
  <link href="http://dabokun.github.io/"/>
  <updated>2021-06-11T11:53:36.845Z</updated>
  <id>http://dabokun.github.io/</id>
  
  <author>
    <name>astrodabo</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>お知らせ</title>
    <link href="http://dabokun.github.io/2999/12/31/99999999-notice/"/>
    <id>http://dabokun.github.io/2999/12/31/99999999-notice/</id>
    <published>2999-12-31T14:59:59.000Z</published>
    <updated>2021-06-11T11:53:36.845Z</updated>
    
    <content type="html"><![CDATA[<p>ここにはお知らせを掲載します．</p><ul><li>(2021年6月11日) Google AdSense による自動広告を追加しました．</li></ul><span id="more"></span><ul><li>(2019年10月7日) <a href="/work/">WORKページ</a>を更新しました．</li><li>(2019年5月16日) 過去のブログ記事を全て移行しました．</li><li>(2019年5月12日) 現在<a href="https://blogs.yahoo.co.jp/astr0dab0">yahooブログ</a>から記事を移行中です．日付の前後関係がおかしかったりしますのでご了承ください．</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;ここにはお知らせを掲載します．&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(2021年6月11日) Google AdSense による自動広告を追加しました．&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="その他" scheme="http://dabokun.github.io/categories/%E3%81%9D%E3%81%AE%E4%BB%96/"/>
    
    
    <category term="その他" scheme="http://dabokun.github.io/tags/%E3%81%9D%E3%81%AE%E4%BB%96/"/>
    
  </entry>
  
  <entry>
    <title>Display HDR な天体写真のススメ</title>
    <link href="http://dabokun.github.io/2025/06/06/00000077-hdr-astrophoto/"/>
    <id>http://dabokun.github.io/2025/06/06/00000077-hdr-astrophoto/</id>
    <published>2025-06-06T03:20:01.000Z</published>
    <updated>2025-06-12T11:57:29.985Z</updated>
    
    <content type="html"><![CDATA[<h3 id="はじめに"><a href="#はじめに" class="headerlink" title="はじめに"></a>はじめに</h3><p>こんにちは．だぼです．久々のブログ更新になります．<br>お気づきの方も多いと思いますが，ブログのデザインが変わりました．というか PC 変更に伴って環境を再現できず壊れました．<br>ここ数日は仕事後に復帰作業をやっていました．まだできていないページとかもありますが少しずつ直していきますのでご容赦ください．</p><p>さて突然ですが，皆さんはモニターの HDR 表示を使いこなしていますか？<br>今回は，（おそらく）誰もやっていない天体写真×HDR をやってみたという記事になります．<br>一点，ここでの HDR とは，カメラでよくある露出ブラケットを利用した階調の回復，いわゆる撮影時の HDR とは全く異なることにご注意ください．</p><span id="more"></span><h3 id="Display-HDR-とは？"><a href="#Display-HDR-とは？" class="headerlink" title="Display HDR とは？"></a>Display HDR とは？</h3><p>そもそも，Display HDR とはなんでしょうか．これは主にモニターのダイナミックレンジが広がってきたことに伴う技術で，簡単に言えばせっかく高い bit 数（10bit 以上）で記録されている画像なのだから 8bit のダイナミックレンジではなくもっと広い階調で表示しよう，そのために黒はより暗く，白はより明るく表示しよう，みたいな考え方になります．</p><p>天体写真では暗い背景に淡い星雲，明るい星といった幅広い階調を鑑賞するわけですので，表示のダイナミックレンジは広ければ広いほど良いはずです．なのに，少なくとも自分の身の回りでは誰もやっていない，なぜでしょうか？<br>それは，Display HDR にはいくつかのハードルがあるからです．①十分な性能をもった PC 用ディスプレイは高額であること，そして②汎用さの不足です．<br>①については，十分な性能をもった一般人でも買えるくらいのモニターで，例えば最大輝度 1600cd，DisplayHDR1400 の規格をもった ASUS ProArt PA32UCG では40万円以上します．いくらギリギリ買えるかもとはいえ，HDR 鑑賞のためだけにそこまで使えるかは微妙でしょう．②については，例えば大手カメラメーカーの提供する HDR 画像は主に HEIF というフォーマットを採用しています．HEIF は 10bit のデータを高い圧縮率でもつことができる一方，展開に重たい計算が必要になったり，そもそもメーカーが提供するソフトウェアでなければ開くことすらできなかったりと，汎用性の面で問題を抱えていることも事実です．</p><p>しかし，これらの問題はそれぞれ解消されつつあります．まず，①のディスプレイの問題については，スマートフォンを使うことで比較的安価に楽しむことができるようになってきました．最近のスマホで撮影した写真は勝手に HDR になります．これは HDR GainMap 情報（後述）が付加されているためであることが多いです．YouTube（動画ですが） や Instagram, Threads などの Meta 社の提供する SNS は画像の HDR 表示に対応しています．最近 Instagram をやっていて，やけに明るい画像を目にしませんか？あれは HDR 対応のスマホで撮影されたデータだからです．<br>②の汎用性についても，HDR GainMap のサポートによって解消されつつあります．GainMap とは画像のどの部分を（HDR の領域まで）どれだけ明るくするかという情報で，通常の JPEG データに追加する形で付加されています．詳しくは<a href="https://blog.adobe.com/jp/publish/2023/10/26/cc-photo-hdr-explained">Adobe の解説ページ</a>もご覧ください（<a href="https://blog.adobe.com/en/publish/2023/10/10/hdr-explained">元の英語版</a>ではちゃんと HDR 画像が使われていますのでこちらでも OK）．この方法を利用する最大の利点は JPEG という汎用的な画像フォーマットでも簡単に利用できることです．また，GainMap は相対的な情報ですので，ディスプレイのポテンシャルに応じて適切に輝度を上げた画像を表示できることも大きなメリットです．</p><h3 id="早速天体写真でやってみる"><a href="#早速天体写真でやってみる" class="headerlink" title="早速天体写真でやってみる"></a>早速天体写真でやってみる</h3><p>では，早速やってみた結果です．前回の記事の M42 オリオン大星雲でやってみました．<br>まずは HDR GainMap なし．<br><img src="/images/00000076-2024-11-fukushima/M42.jpg" alt="M42 オリオン大星雲 2024ver."></p><div style="text-align: center;">HDR GainMap なし<br></div><p>次に HDR GainMap あり．</p><p><img src="/images/00000077-hdr-astrophoto/M42_hdr.jpg" alt="HDR なし"></p><div style="text-align: center;">HDR GainMap あり<br></div><p>いかがでしょう．何度も申し上げますが，HDR に対応していないモニターでは両方同じ画像に見えるはずですが，HDR 対応モニターでは明らかに GainMap ありの方が星が明るくなり，コントラストが強く見えるはずです．HDR で見ていると SDR では物足りなくなっては来ませんか？笑<br>また少し色も派手になっていると思いますが，これは僕の GainMap の作り方の問題だと思います．<br>最近では Lightroom や Photoshop で HDR 編集ができるようにもなってきました．上記の M42 の画像は完全に独自の方法で作っているのですが，今後 HDR モニターを考慮した天体写真の編集方法もいろいろ出てくるかもしれませんね．<br>HDR について知っている人の中でも眩しくてウザいという意見は多いですが、こと天体写真の鑑賞という文脈にあっては、淡く微妙な濃淡の鑑賞のためにダイナミックレンジの広いモニターの性能を活かすことはごく自然な流れなのではないかと思っています．<br>HDR 天体写真，流行ってほしい．</p><p>それでは．</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;はじめに&quot;&gt;&lt;a href=&quot;#はじめに&quot; class=&quot;headerlink&quot; title=&quot;はじめに&quot;&gt;&lt;/a&gt;はじめに&lt;/h3&gt;&lt;p&gt;こんにちは．だぼです．久々のブログ更新になります．&lt;br&gt;お気づきの方も多いと思いますが，ブログのデザインが変わりました．というか PC 変更に伴って環境を再現できず壊れました．&lt;br&gt;ここ数日は仕事後に復帰作業をやっていました．まだできていないページとかもありますが少しずつ直していきますのでご容赦ください．&lt;/p&gt;
&lt;p&gt;さて突然ですが，皆さんはモニターの HDR 表示を使いこなしていますか？&lt;br&gt;今回は，（おそらく）誰もやっていない天体写真×HDR をやってみたという記事になります．&lt;br&gt;一点，ここでの HDR とは，カメラでよくある露出ブラケットを利用した階調の回復，いわゆる撮影時の HDR とは全く異なることにご注意ください．&lt;/p&gt;</summary>
    
    
    
    <category term="天体写真" scheme="http://dabokun.github.io/categories/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    
    <category term="写真" scheme="http://dabokun.github.io/tags/%E5%86%99%E7%9C%9F/"/>
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="画像処理" scheme="http://dabokun.github.io/tags/%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>2024年11月 福島県某所，育樹祭記念広場</title>
    <link href="http://dabokun.github.io/2024/12/03/00000076-2024-11-fukushima/"/>
    <id>http://dabokun.github.io/2024/12/03/00000076-2024-11-fukushima/</id>
    <published>2024-12-03T02:48:27.000Z</published>
    <updated>2025-06-11T13:12:30.489Z</updated>
    
    <content type="html"><![CDATA[<h3 id="2024年11月"><a href="#2024年11月" class="headerlink" title="2024年11月"></a>2024年11月</h3><p>今年の11月は遠征に2回行きました．やはり秋は天体観測の季節ですね．</p><span id="more"></span><h3 id="福島県某所"><a href="#福島県某所" class="headerlink" title="福島県某所"></a>福島県某所</h3><p>11月3日文化の日には福島県の某所へ．天文仲間の知り合いの方が集まるということで出かけました．<br>文化の日は「晴れの特異日」とよばれ，統計的に晴れることが多く，今年も例に漏れず北関東に出れば晴れを狙えそうな予報でした．<br>途中千葉で友人を拾いがてら聖地巡礼…．壊れていた車で行く久々の遠征です．</p><p><img src="/images/00000076-2024-11-fukushima/001.jpg" alt="千葉に向かう途中，湾岸を途中で降り聖地へ"></p><p>温泉に入って（タオル忘れて無事湯冷めした）到着すると，よく晴れてはいますが前日に雨が降ったこともあり透明度は若干低く眠い感じ．<br>最近また冷却 CMOS の機嫌が悪く安定するまでに時間がかかる．はやく 2600MC Air を導入して一息つきたいものです．<br>夜半過ぎになると，コントラストも改善し暗い空が広がりました．ガイドが乱れない程度の微風も拭き夜露結露に悩まされることもなかったです．<br>カメラも安定運用に入り2天体を合計8時間ほど露光，このツンデレめ．</p><p><img src="/images/00000076-2024-11-fukushima/M31.jpg" alt="M31 アンドロメダ銀河 2024ver."></p><div style="text-align: center;">「M31 アンドロメダ銀河」<br>2024年11月3日19時15分～23時50分 福島県某所<br>ε-160ED<br>QHY268PH C<br>Gain 26/Offset 50/-20℃/180s*80<br>Optolong UV/IR Cut 2''<br>Total: 240min<br>タカハシ EM-200 TemmaPC Jr. + MGEN-3<br>Adobe Photoshop CC / PixInsight<br><a href="https://www.astrobin.com/b645gr/">AstroBin</a><br><br></div><p><img src="/images/00000076-2024-11-fukushima/M42.jpg" alt="M42 オリオン大星雲 2024ver."></p><div style="text-align: center;">「M42 オリオン大星雲」<br>2024年11月4日0時6分～4時46分 福島県某所<br>ε-160ED<br>QHY268PH C<br>Gain 26/Offset 50/-20℃/180s*91<br>Optolong UV/IR Cut 2''<br>Total: 273min<br>タカハシ EM-200 TemmaPC Jr. + MGEN-3<br>Adobe Photoshop CC / PixInsight<br><a href="https://www.astrobin.com/qbqlvr/">AstroBin</a><br><br></div><p>εにも慣れてきたところで有名天体を狙ってみました．空も暗いですしね．<br>僕は違いますが，望遠鏡を毎年買っているような人は毎年のように有名天体を撮る，天体写真好きあるあるだと思います．<br>M31 はやはり画像処理が難しい．多くの人が個性をもってうまく処理をしているので，自分のなかでの理想がなかなか確立しづらい気がします．逆に M42 は自分のなかに理想があって，それに近づけることで今まで自分が撮ってきたなかでは一番いい出来に仕上がったのではないかと思います．<br>シーイングのおかげで望遠鏡のポテンシャルもこれまでで最大限に発揮された気がします．ここまで来ると，AI系の星像補正ツールは最早無用の長物だと感じます．<br>TOA 等を使っていてもそうなんですが，「これいいな」と自分の中で合格点が出ている画像に対して BXT 等をかけても「あんまり変わらないな」という感想にしかならないんですよね．</p><h3 id="育樹祭記念広場"><a href="#育樹祭記念広場" class="headerlink" title="育樹祭記念広場"></a>育樹祭記念広場</h3><p>そして月末は育樹祭へ．上述の福島の時よりもオンラインの天文仲間を含め，多くの人が集いました．<br>会社の同期にも声をかけて連れていきました．</p><p><img src="/images/00000076-2024-11-fukushima/002.jpg" alt="これは小作のほうとう，これも久々に食しました"></p><p>かくいう自分は到着後に MGEN3 関係の一式を忘れたことに気づき途方に暮れていたのですが，<a href="https://x.com/ShonanAstroPhot">けーたろさん</a>，<a href="https://x.com/hotan666">Wada さん</a>，<a href="https://x.com/magicalflute77">Aramis さん</a>が機材を提供してくれるなどとおっしゃってきます．本当は己の機材で完結させたかったが，貴重な新月期の快晴です．背に腹は代えられまい．<br>最初はガイド機材だけ借りようと思ったのですが，EM-200 にいくガイドケーブルがありません．なら AM3 と三脚と ASIAIR も余ってるから貸すよと．なんでだよ．<br>そしたら今度は ASIAIR が僕の QHY カメラを認識しません．そりゃそうだ．なら ASI6200MC Pro も余ってるから貸すよと．なんでだよ．</p><blockquote><p>あ…ありのまま 今　起こった事を話すぜ！</p></blockquote><blockquote><p>おれは MGEN3 を忘れて絶望していたらいつのまにか野生の AM3 と TC40 と ASIAIR とガイド鏡ガイドカメラと ASI6200MC Pro が生えていた…</p></blockquote><blockquote><p>な…　何を言ってるのか　わからねーと思うがおれも何をされたのかわからなかった…　頭がどうにかなりそうだった…</p></blockquote><p><img src="/images/00000076-2024-11-fukushima/003.jpg" alt="どうしてこうなった…"></p><p>そんなこんなで，気がついたらフルスペック機材が完成し望遠鏡以外は全部他人からの貸与機材という結果に…．普通に無風快晴なんですよ？どうしてこうなった…．<s>もう毎回 MGEN 忘れたほうがいいんじゃないか…．</s></p><p>まあ前述の通り，僕は 2600MC Air がほしい．紅の軍事帝国にはあまり染まりたくないと思いつつ，やはり便利そうではあるんですよね…．購入前に ASIAIR を使うことになる強制練習イベントが発生したと捉えておきます．</p><p><img src="/images/00000076-2024-11-fukushima/ngc1333.jpg" alt="NGC1333 周辺"></p><div style="text-align: center;">「NGC1333 周辺の分子雲」<br>2024年11月30日21時1分～12月1日4時21分 山梨県 育樹祭記念広場<br>ε-160ED<br>ZWO ASI6200MC Pro<br>Gain 100/Offset 50/-10℃/180s*131<br>Total: 393min<br>ZWO AM3<br>Adobe Photoshop CC / PixInsight<br><a href="https://www.astrobin.com/60q5n1/">AstroBin</a><br><br></div><p>せっかくのフルスペック機材ということで，普段は避けるような対象を狙ってみました．なんだかんだで初のフルサイズ冷却 CMOS 使用ですね．<br>そこそこ早めの到着でしたが，ASIAIR アプリのダウンロードに1時間くらいかかったのと回転構図合わせに悩んだため21時頃からの露光となりました．</p><p>以下お借りした機材所感…</p><ul><li><p>AM3+TC40：おそらくけーたろ氏のノウハウが入って三脚は剛性マシマシになっていることを加味する必要があるのではと思うが，撮影したライト133フレームのうち使えないと判断したのは2フレーム．それも追尾エラーではなく外部からの光と構図ズレ．少なくとも ε-160ED での運用では EM-200 での歩留まりとさほど変わらないと判断．買うなら AM5N かと思っていたが AM3N が出ればこちらでいいのかもしれない．</p></li><li><p>ASIAIR：お借りしたお三方の教え方が上手いとも言うが，アプリはかなり使いやすい．たぶん次また使えと言われても使えると思う．UI の開発者も優秀なのかなと．スマホのスペック不足でちょくちょくアプリが落ちたのは気になったが，処理自体は機材側でやっているので切れても何も問題ないのは安心感大きい．</p></li><li><p>ASI6200MC Pro：APS-C 冷却しか使ってこなかったので画角が一目でわかるほど広いなぁ～という当たり前の感想．データ容量がデカすぎて撮影画像をスマホでスムーズにプレビュー切り替えできない（100%で前後比較して星像チェックしたいことがよくある）のが気になった（なにか方法があるのかも）．インテグレーションも死ぬほど時間がかかるので自分にはまだ早いカメラだなと思った．</p></li></ul><p>改めて，お三方どうもありがとうございましたm(_ _)m．</p><p>余談「本当にあった怖い話」<br>今回機材を丸ごと放置して松屋に避難しに行ったのですが，帰ってきたら子午線反転が終わっていた…しかも近くに望遠鏡は何台も並んでいたが，その現場を現地の誰も目撃していなかったという…．<br>当然ケーブルワークは子午線反転のことなど想定していないので，どこか引きちぎれたりしている可能性もあった．間に合うと思って出かけたんだけど，今度からは気を付けます…．</p><p>それでは．</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;2024年11月&quot;&gt;&lt;a href=&quot;#2024年11月&quot; class=&quot;headerlink&quot; title=&quot;2024年11月&quot;&gt;&lt;/a&gt;2024年11月&lt;/h3&gt;&lt;p&gt;今年の11月は遠征に2回行きました．やはり秋は天体観測の季節ですね．&lt;/p&gt;</summary>
    
    
    
    <category term="遠征記" scheme="http://dabokun.github.io/categories/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    
    <category term="写真" scheme="http://dabokun.github.io/tags/%E5%86%99%E7%9C%9F/"/>
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="遠征記" scheme="http://dabokun.github.io/tags/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    <category term="カメラ" scheme="http://dabokun.github.io/tags/%E3%82%AB%E3%83%A1%E3%83%A9/"/>
    
    <category term="機材" scheme="http://dabokun.github.io/tags/%E6%A9%9F%E6%9D%90/"/>
    
    <category term="鏡筒" scheme="http://dabokun.github.io/tags/%E9%8F%A1%E7%AD%92/"/>
    
    <category term="赤道儀" scheme="http://dabokun.github.io/tags/%E8%B5%A4%E9%81%93%E5%84%80/"/>
    
  </entry>
  
  <entry>
    <title>見えたぜ紫金山・アトラス</title>
    <link href="http://dabokun.github.io/2024/10/16/00000075-c2023a3/"/>
    <id>http://dabokun.github.io/2024/10/16/00000075-c2023a3/</id>
    <published>2024-10-16T11:48:18.000Z</published>
    <updated>2025-06-11T13:14:23.379Z</updated>
    
    <content type="html"><![CDATA[<h4 id="前置き"><a href="#前置き" class="headerlink" title="前置き"></a>前置き</h4><p>生きていると，「これは人生最高の◯◯だ！」と思う瞬間が極稀に訪れます．そしてさらに，ごく短期間のうちにそれを2回以上更新してしまうことがあります．<br>星に関して言えば，自分の場合，大学一年目で白布峠で人生で初めて暗く標高の高い場所で星を見て，「これは人生最高の星空だ！」と感動した記憶が強く残っています．それから数週間後，乗鞍岳でさらにすごい星空を見て人生最高の星空を2回も更新してしまうという貴重な経験をしました．<br>さて，前々から話題になっていた C2023&#x2F;A3 紫金山・アトラス彗星ですが，車が壊れたり9月末にコロナになってしまったりとトラブルが重なったせいで（天気が悪かったというのもありますが），近日点に近づく前半は一度も見られずモヤモヤする日々を過ごしていました．そして先日，無事崩壊することなく近日点を通過し明るさも上々となってようやく巡ってきた天気も良さそうな三連休．このチャンスは逃すわけにもいかず，2024年10月13日と14日の二晩，彗星を見に出かけたわけです．</p><span id="more"></span><h4 id="2024-10-13"><a href="#2024-10-13" class="headerlink" title="2024&#x2F;10&#x2F;13"></a>2024&#x2F;10&#x2F;13</h4><p>車がないので，とりあえず金曜のうちに実家に戻ります．翌日土曜は実家近くで歯列矯正治療の予定が入っていたので，車を借りて現在一人暮らししている新居からの機材回収のみにとどめました．<br>近くのスーパーで買い物ついでに西の空を眺めてみましたが低空には雲がかかっていたので今日は怪しいだろうと思い込んで実家に帰宅．</p><p>日曜は少し遅めに起き，機材をチェックして静岡県の仁科峠に向けて出発．本当は帰らず月曜日も出るつもりでしたが，このときカメラのバッテリーを一個実家のコンセントにさしっぱなしにしていたので結局帰る羽目になりました．<br>前回彗星を見に行ったのはネオワイズ彗星のときで，雲に阻まれたものの写真になんとか写すことができたといった感じでした．今回はどうだろう．</p><a href="https://dabokun.github.io/2020/07/20/00000035-2020-07-neowise/" target="_blank" rel="nofollow" class="link-preview"><div class="og-image"><img src="http://dabokun.github.io/null" alt="ほしよみ社会塵のブログ" loading="lazy"></div><div class="descriptions"><div class="og-title">ほしよみ社会塵のブログ</div><div class="og-description">撮ったぜネオワイズこんにちは．今話題のネオワイズ彗星を撮影してきました．</div></div></a><p><img src="/images/00000075-c2023a3/001.jpg" alt="到着してカメラを西の空へ向けます"></p><p>箱根を越えて15時半頃に現地に着いてみると，天気はかなりいい感じ．土曜には城ヶ島で見えていたという報告も見ましたので，「標高もあるここで見えないわけがない！」と思う反面，「あまり大した事なかった」みたいな報告もあったので「写真で写せればいいかな」程度に考えていました．16時を過ぎると同業者が続々と集まりはじめ，仁科峠のそこそこ広い駐車場いっぱいに三脚が並んでいました．</p><p><img src="/images/00000075-c2023a3/002.jpg" alt="迎撃準備ヨシ！"></p><p>日も暮れてきて，少し雲も出てきました．この日はカメラ2台で撮影，望遠鏡1台で眼視です．<br>その後夕暮れの空を眺めつつ隣にカメラを出していた人と談笑しつつ，しばらく望遠鏡やファインダーで探したものの彗星は見つからず．金星はよくわかりますが…．<br>18時前ごろでしょうか．ファインダーで見え始めます．一度見えるとカメラのライブビューでも写りはじめ，空が暗くなるとともにあれよあれよと核の輝きが肉眼でも見え始めます．<br>なんか尾も余裕で見えてきました．俺はまだ人生で一度も肉眼で彗星の尾を見たことがないんだ．ちょっと待ってくれよ．</p><p><img src="/images/00000075-c2023a3/003.jpg" alt="Pixel6a で撮影"></p><p>などと思いつつ彗星は待ってくれません．結局，肉眼で4～5°程度の尾を見せながら西の空に沈んでいきます．スマホでも全然写ります．すごいすごい，もう大興奮です．<br>望遠鏡で見ても，広めのアイピースでも収まりきらないような尾を見せています．こんなのは今まで見たことがありません．<br>この日は Nikon Z8 でタイムラプスを撮影していましたが ISO の自動制御が走っておらず普通に失敗しておりました（もう一台のカメラバッテリーは前述の通りです）．</p><div class="video-container"><iframe src="https://www.youtube.com/embed/As9SUpTJ0yQ" frameborder="0" loading="lazy" allowfullscreen></iframe></div><p>撮影はミスりましたが，興奮冷めやらぬままそそくさと撤収します．<br>この日は関西からこちらに来て働いている同年代の方も数名いらっしゃり（何名か？は Twitter でフォローしていただいていた），お話したり眼視で DSO を見せていただいたりしました．ありがとうございました．<br>途中で夕飯を食べたりしながら23時過ぎに実家に帰宅．翌日もあるのでそのまま寝ました．</p><h4 id="2024-10-14"><a href="#2024-10-14" class="headerlink" title="2024&#x2F;10&#x2F;14"></a>2024&#x2F;10&#x2F;14</h4><p>翌日の日曜日は，再びの仁科峠に僕だけではなく友人も何名か集まる予定．土曜に忘れたカメラのバッテリーを回収して実家を出て，新居に置きっぱなしにしていたぬい（ぐるみ）とスーパーワイドビノを取りに行くついでに荷物の整理．この時にカメラプレートとカメラを繋ぐカメラネジを壊れた車に放置していたせいで手元にないことに気づきます．これでは赤道儀にカメラを載せられないので，仁科峠に向かう道中のホームセンターで購入．<br>望遠鏡は置いて，アイピースだけ友人に提供できるように持っていきました．</p><p><img src="/images/00000075-c2023a3/004.jpg" alt="今日もまた，日が暮れる…"></p><p>結局土曜日と同じくらいに現地に着いてみると，土曜日よりも彗星目的の人が多く集まっていました．天気も，少なくとも土曜日より雲が少ないように見えます．<br>友人も集まりはじめ，現地はどんどん彗星目的の人で賑わっていきます．土曜日にあれだけ素晴らしい姿を見せていたので，今日も同等かそれ以上のものが見られるに違いないという確信のようなものがありました．</p><p><img src="/images/00000075-c2023a3/005.jpg" alt="錚々たる機材が並び始めます"></p><p>ちぎれ雲のようなものもありますが，17時40分ごろにカメラ撮影で移り始めました．</p><p><img src="/images/00000075-c2023a3/006.jpg" alt="写った！"></p><p>土曜日と同様，暗くなるにつれてどんどん尾が見えてきます．月明かりや彗星自体の減光のためか土曜日よりもコントラストは低く淡い感じがしますが，尾の長さは土曜日の倍，10°くらい見えます．壮大な眺めです．</p><p><img src="/images/00000075-c2023a3/007.jpg" alt="「ドルジ，あれが彗星だよ．」「ぬおー．」"></p><p>この日は fpL と Z8 で撮りまくります．</p><div class="video-container"><iframe src="https://www.youtube.com/embed/BYUG_USV2e0" frameborder="0" loading="lazy" allowfullscreen></iframe></div><p>こちらは赤道儀を使用した短めのタイムラプスですが，空が暗くなる短時間のうちに美しく輝きを放つ様子がわかります．淡いですが，ネックライン構造も見て取ることができます．</p><div class="video-container"><iframe src="https://www.youtube.com/embed/RFaLUcJ47vg" frameborder="0" loading="lazy" allowfullscreen></iframe></div><p>こちらは静岡市方面に沈んでいく彗星です．カメラ雲台がなかったので地平線は斜めです．</p><p><img src="/images/00000075-c2023a3/008.jpg" alt="タイムラプスからの切り出し"></p><div style="text-align: center;">「紫金山・アトラス彗星」<br>2024年10月14日18時35分 静岡県 仁科峠<br>SIGMA 105mm F1.4 DG HSM Art<br>SIGMA fpL<br>ISO-640/F2.0/8s<br>タカハシ EM-11 Temma2 Jr.<br>Adobe Photoshop CC<br><br></div><p>上のタイムラプスから適当に切り出して編集したもの．105mm では全然収まり切らなさそうな尾の長さ．迫力満点です．</p><div class="video-container"><iframe src="https://www.youtube.com/embed/9eujeDhjEhA" frameborder="0" loading="lazy" allowfullscreen></iframe></div><p>こちらは Z8 でのタイムラプスです．空をかけながら街明かりの中に沈んでいきます．素晴らしい．</p><h4 id="まとめ"><a href="#まとめ" class="headerlink" title="まとめ"></a>まとめ</h4><p>さて，今回2日連続で彗星を楽しみました．13日と14日で，同じくらいの高度で比較すると↓のような感じになりました．</p><p><img src="/images/00000075-c2023a3/009.png" alt="13日と14日の比較（左13日，14日）．赤丸は同じ星．"></p><p>露出時間が違うので単純比較はできませんが，個人的には14日のほうが尾が長く，より素晴らしく見えていたと思います．</p><p>このようにして，「人生最高の彗星」は二晩連続で更新されたのでした．大満足．</p>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;前置き&quot;&gt;&lt;a href=&quot;#前置き&quot; class=&quot;headerlink&quot; title=&quot;前置き&quot;&gt;&lt;/a&gt;前置き&lt;/h4&gt;&lt;p&gt;生きていると，「これは人生最高の◯◯だ！」と思う瞬間が極稀に訪れます．そしてさらに，ごく短期間のうちにそれを2回以上更新してしまうことがあります．&lt;br&gt;星に関して言えば，自分の場合，大学一年目で白布峠で人生で初めて暗く標高の高い場所で星を見て，「これは人生最高の星空だ！」と感動した記憶が強く残っています．それから数週間後，乗鞍岳でさらにすごい星空を見て人生最高の星空を2回も更新してしまうという貴重な経験をしました．&lt;br&gt;さて，前々から話題になっていた C2023&amp;#x2F;A3 紫金山・アトラス彗星ですが，車が壊れたり9月末にコロナになってしまったりとトラブルが重なったせいで（天気が悪かったというのもありますが），近日点に近づく前半は一度も見られずモヤモヤする日々を過ごしていました．そして先日，無事崩壊することなく近日点を通過し明るさも上々となってようやく巡ってきた天気も良さそうな三連休．このチャンスは逃すわけにもいかず，2024年10月13日と14日の二晩，彗星を見に出かけたわけです．&lt;/p&gt;</summary>
    
    
    
    <category term="天体写真" scheme="http://dabokun.github.io/categories/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    
    <category term="写真" scheme="http://dabokun.github.io/tags/%E5%86%99%E7%9C%9F/"/>
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="遠征記" scheme="http://dabokun.github.io/tags/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    <category term="カメラ" scheme="http://dabokun.github.io/tags/%E3%82%AB%E3%83%A1%E3%83%A9/"/>
    
    <category term="機材" scheme="http://dabokun.github.io/tags/%E6%A9%9F%E6%9D%90/"/>
    
    <category term="レンズ" scheme="http://dabokun.github.io/tags/%E3%83%AC%E3%83%B3%E3%82%BA/"/>
    
    <category term="赤道儀" scheme="http://dabokun.github.io/tags/%E8%B5%A4%E9%81%93%E5%84%80/"/>
    
  </entry>
  
  <entry>
    <title>ブログ復帰していきます</title>
    <link href="http://dabokun.github.io/2024/09/11/00000074-2024-res/"/>
    <id>http://dabokun.github.io/2024/09/11/00000074-2024-res/</id>
    <published>2024-09-11T02:57:33.000Z</published>
    <updated>2025-06-11T13:11:41.334Z</updated>
    
    <content type="html"><![CDATA[<p>お久しぶりです．</p><span id="more"></span><p>今年度から社会人になり，若干の余裕(？)ができてきたのでブログ更新をちまちま復帰していきたいと思います．<br>ブログタイトルも変更しました．<br>これまでのことを書きたいところではありますが正直どこから書けばいいのかわからないので今回は取り急ぎ短文で済ませたいと思います．</p><p>天体写真や観望については，頻度は減ったものの継続していますし，今後ものんびり楽しんでいく予定です．<br>それでは．</p><p><img src="/images/00000074-2024-res/work.jpg" alt="M17 オメガ星雲"></p><div style="text-align: center;">「M17 オメガ星雲」<br>2024年9月7日20時45分～22時21分 千葉県 平沢ダム<br>タカハシ ε-160ED<br>QHY268PH C<br>Gain 26/Offset 50/-5℃/180s*29<br>Optolong UV/IR Cut 2''Total: 87min<br>タカハシ EM-200 TemmaPC Jr. + MGEN-3<br>Adobe Photoshop CC / PixInsight<br><br></div><p>一番最近の ε-160ED で撮影したオメガ星雲です．</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;お久しぶりです．&lt;/p&gt;</summary>
    
    
    
    <category term="その他" scheme="http://dabokun.github.io/categories/%E3%81%9D%E3%81%AE%E4%BB%96/"/>
    
    
    <category term="その他" scheme="http://dabokun.github.io/tags/%E3%81%9D%E3%81%AE%E4%BB%96/"/>
    
  </entry>
  
  <entry>
    <title>MGEN-3 ファームウェアアップデート方法</title>
    <link href="http://dabokun.github.io/2023/02/02/00000073-mgen3-fw130/"/>
    <id>http://dabokun.github.io/2023/02/02/00000073-mgen3-fw130/</id>
    <published>2023-02-02T11:55:45.000Z</published>
    <updated>2025-06-11T13:11:43.776Z</updated>
    
    <content type="html"><![CDATA[<h3 id="あいさつ"><a href="#あいさつ" class="headerlink" title="あいさつ"></a>あいさつ</h3><p>こんにちは，昨年末ぶりのブログ更新です．<br>MGEN-3 が年明けにファームウェア 1.30 へのアップデートで Plate Solving に対応しだしましたので遅ればせながらアップデートをしたわけですが，毎度ノートPCに MGEN を接続した後「どうやるんだっけ？」と忘れるのでブログに記しておきます．<br>今回から Plate Solving を利用するためにはデータベースファイルを書き込む必要もあるので，その方法も書いておきます．</p><span id="more"></span><h3 id="ファームウェアのアップデート"><a href="#ファームウェアのアップデート" class="headerlink" title="ファームウェアのアップデート"></a>ファームウェアのアップデート</h3><p>やり方については以下の動画で英語で説明されています．<br>英語がわかる人はこれを見ながら進めてもいいですが，少し情報が古かったり，後述のように今回に関しては不要な操作があったりしますので注意．</p><div class="video-container"><iframe src="https://www.youtube.com/embed/XkxqsNSQVpQ" frameborder="0" loading="lazy" allowfullscreen></iframe></div><h4 id="サポートページへの登録とデバイスの登録"><a href="#サポートページへの登録とデバイスの登録" class="headerlink" title="サポートページへの登録とデバイスの登録"></a>サポートページへの登録とデバイスの登録</h4><p>サポートページのアカウントがない人は<a href="https://support.mgen-autoguider.com/index.php?page=register">登録ページ</a>にアクセスし，メールアドレス，パスワード，簡単な質問の答えを入力して登録します．<br>登録したら，ログインし，”Support”→”My Devices”→”Register Your Device”と進みます．<br><img src="/images/00000073-mgen3-fw130/01.jpg" alt="MGEN のデバイス登録画面"><br>画像黄枠の部分に MGEN の ID とシリアルナンバーを入力して “Register” から登録すると，画像赤枠のように自分の MGEN-3 が登録されます．ID は MGEN-3 本体を起動し画面右上のレンチマーク→”System” から確認でき，シリアルナンバーは MGEN-3 本体の背面またはカメラ本体側面に書いてあります．</p><h4 id="必要なファイルのダウンロード"><a href="#必要なファイルのダウンロード" class="headerlink" title="必要なファイルのダウンロード"></a>必要なファイルのダウンロード</h4><p>前ステップの画像にある，登録されたデバイスの keyfile をダウンロードします．<br>続いてサポートページの “Support” → “Firmwares, Language files” からファームウェアファイルをダウンロードします．今回は “Mgen3_Firmware_1-30.ZIP” です．</p><p>動画だとこの後ドライバーアップデータの実行ファイルをダウンロードしていますが，上記 zip ファイルに含まれているので今回は必要ありません．<br>続いて（FTDIドライバーのインストールがまだの場合），<a href="https://ftdichip.com/drivers/d2xx-drivers/">FTDIドライバーのページ</a>にアクセスし，ドライバーの実行ファイルをダウンロードしてインストールします（Windows の場合は setup executable からダウンロードすれば OK）．<br>これで準備は完了です．</p><h4 id="ファームウェアのアップデート-1"><a href="#ファームウェアのアップデート-1" class="headerlink" title="ファームウェアのアップデート"></a>ファームウェアのアップデート</h4><p>MGEN-3 本体を起動し画面右上のレンチマーク→”Turn Off”→”Stop &amp; go to BOOT”でブート画面にしておきます．<br><img src="/images/00000073-mgen3-fw130/mgen_sc_01.jpg" alt="MGEN でブート画面への移動"><br>続いて “Mgen3_Firmware_1-30.ZIP”を展開して Apps&#x2F;MG3_Updater_v.1.3.exe を実行します．<br><img src="/images/00000073-mgen3-fw130/02.jpg" alt="MGEN アップデータの画面"><br>アップデータの画面の赤枠部分の二箇所， Firmware file には Firmware_1-30&#x2F;LMG3_fw0130_0.bin を，Key file には前のステップでダウンロードしてきた keyfile を指定します．他の設定は特にいじらず，”Update firmware(s)” ボタンを押せばアップロードが始まります．特にエラーが出ず下に DONE と表示されれば OK です．<br>MGEN 本体側でそのまま “Start firmware” からアップデートした状態の MGEN を起動できます．</p><h3 id="データベースファイルの追加"><a href="#データベースファイルの追加" class="headerlink" title="データベースファイルの追加"></a>データベースファイルの追加</h3><p>これまでは MGEN のファームウェアのアップデートは上記ステップで完了でしたが，今回は Plate Solving 機能を利用するためにデータベースファイルを内部 SD カードの指定のパスに書き込む必要があります．<br>Apps&#x2F;MG3_PCApp_v.1.30.exe を起動します．<br><img src="/images/00000073-mgen3-fw130/03_1.jpg" alt="MGEN-3 PC Application の起動直後の画面"><br>起動すると右下に “FileSystem” ボタンがあるのでこれをクリック，別の窓でファイルマネージャーが立ち上がります．<br><img src="/images/00000073-mgen3-fw130/03_2.jpg" alt="データベース書き込みのためのファイルマネージャー"><br>画面左のファイルマネージャーから &#x2F;MG3&#x2F;DB&#x2F; を開き，ウィンドウ左下の “Upload Sky DataBase file (plate solving).” ボタンをクリックすると，データベースファイルの書き込みが始まります．しばらく待って，完了です．<br>MGEN-3 で利用するには，画面上部の四角いアイコン→”Sky data”→”Load DB”でロードします．<br><img src="/images/00000073-mgen3-fw130/mgen_sc_02.jpg" alt="MGEN でPlate Solving 画面への移動，データベースのロード"><br>以上で完了となります．まだファームウェアをアップデートしてから観測に出ておらず，Plate Solving の機能自体はテストしていませんが，マニュアルを見る限りガイドカメラの中心の方向がわかる，程度だと思われます．ただ，ここから有名天体を画面に重畳表示して電子ファインダー代わりにしたり，撮影カメラの向いている方向を設定し，赤道儀と連携することで自動導入できるようになることが期待できます．Lacerta さんには頑張ってほしい()．<br>…個人的には Square Snake Dithering を先にできるようにしてほしいですが．<br>それでは今日のところはこれにて，この記事が未来の自分か他の誰かの役に立てばいいなと思います笑．</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;あいさつ&quot;&gt;&lt;a href=&quot;#あいさつ&quot; class=&quot;headerlink&quot; title=&quot;あいさつ&quot;&gt;&lt;/a&gt;あいさつ&lt;/h3&gt;&lt;p&gt;こんにちは，昨年末ぶりのブログ更新です．&lt;br&gt;MGEN-3 が年明けにファームウェア 1.30 へのアップデートで Plate Solving に対応しだしましたので遅ればせながらアップデートをしたわけですが，毎度ノートPCに MGEN を接続した後「どうやるんだっけ？」と忘れるのでブログに記しておきます．&lt;br&gt;今回から Plate Solving を利用するためにはデータベースファイルを書き込む必要もあるので，その方法も書いておきます．&lt;/p&gt;</summary>
    
    
    
    <category term="機材" scheme="http://dabokun.github.io/categories/%E6%A9%9F%E6%9D%90/"/>
    
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="機材" scheme="http://dabokun.github.io/tags/%E6%A9%9F%E6%9D%90/"/>
    
  </entry>
  
  <entry>
    <title>2022年振り返り</title>
    <link href="http://dabokun.github.io/2022/12/31/00000072-2022-lookback/"/>
    <id>http://dabokun.github.io/2022/12/31/00000072-2022-lookback/</id>
    <published>2022-12-31T07:05:15.000Z</published>
    <updated>2025-06-08T13:44:37.637Z</updated>
    
    <content type="html"><![CDATA[<h3 id="2022年振り返り"><a href="#2022年振り返り" class="headerlink" title="2022年振り返り"></a>2022年振り返り</h3><p>みなさんがやっているので自分も今年のことを振り返ってみようと思います．</p><span id="more"></span><h4 id="遠征など"><a href="#遠征など" class="headerlink" title="遠征など"></a>遠征など</h4><p>昨年導入した冷却 CMOS や TOA-130 を使って，今年は比較的トラブル少なく安定した遠征活動ができたと思います．<br>1月はまだ寒いので単騎千葉へ．友人H氏の車がスタッドレスになっているはずなので来年は頼れるかもしれません（他力本願）．3月は西湖に行ったり友人H氏，渡部くんと田村市の星の村天文台に行ったり．晴れましたがあまり満足な星果は上げていません．4月に大洗に行くもこちらも曇って不発で，その翌週の朝霧～原村でようやくそれっぽく撮影できました．5月は東京と群馬の友人を連れて清里～原村と連泊し，末には栃木の育樹祭記念公園へ．風の民さんとはじめまして，M&amp;Mさんとはお久しぶりの撮影になりました．6月は戦場ヶ原に行き，晴れてきたのに寝ていたさすらいさんを叩き起こすなどしました．</p><a href="https://dabokun.github.io/2022/05/15/00000063-2022-first-half-lookback01/" target="_blank" rel="nofollow" class="link-preview"><div class="og-image"><img src="http://dabokun.github.io/images/00000063-2022-first-half-lookback01/card.jpg" alt="ほしよみ社会塵のブログ" loading="lazy"></div><div class="descriptions"><div class="og-title">ほしよみ社会塵のブログ</div><div class="og-description">お久しぶりです今年に入ってから，遠征記を全く書いていないことに気づきました．原因は TOA を使うようになったことでしょう．眼視というのはメシエマラソンのような修行をしない限り，また機材重量を特に気にしなければひじょうに楽なもので，観望地に着けば機材をドンと置いて，極軸はなんとな...</div></div></a><a href="https://dabokun.github.io/2022/09/02/00000064-2022-05-06/" target="_blank" rel="nofollow" class="link-preview"><div class="og-image"><img src="http://dabokun.github.io/null" alt="ほしよみ社会塵のブログ" loading="lazy"></div><div class="descriptions"><div class="og-title">ほしよみ社会塵のブログ</div><div class="og-description">こんにちはまたまた久々の更新となります．今年はだいたい月一くらいのペースで星見に遠征しています．5月は，前回の記事で清里原村に行った際の記事を書きましたが，後半は栃木県の育樹祭記念広場へ，6月は戦場ヶ原へ行きました．普段はあまり遠征で訪れない北関東のシーズン(？)です．</div></div></a><p>今年はキャンプもしたい！と思い7月は基本的なキャンプ道具を揃えて友人とふもとっぱらへ．結局時間がなくこれ以降キャンプができていないのがなんともコスパが悪いです．来年は行けるタイミングでじゃんじゃか行きたい…．8月は3年ぶりに乗鞍畳平に行って最高に暗い空を堪能しました．<br>また星ナビさんの「ネットよ今夜もありがとう」でこのブログを紹介していただきました．</p><a href="https://dabokun.github.io/2022/09/04/00000065-2022-07-08/" target="_blank" rel="nofollow" class="link-preview"><div class="og-image"><img src="http://dabokun.github.io/null" alt="ほしよみ社会塵のブログ" loading="lazy"></div><div class="descriptions"><div class="og-title">ほしよみ社会塵のブログ</div><div class="og-description">星ナビ「ネットよ今夜もありがとう」コラムに弊ブログが紹介されました9月5日発売の星ナビ2022年10月号に掲載させていただきました．投稿写真ではなく，「ネットよ今夜もありがとう」という天文を楽しむ人のブログやホームページを紹介するコラムです．毎度お世話になっているM&amp;Mさ...</div></div></a><p>これまでにない遠出をしたいと思い，9月はしらびそへ．しらびそ高原天の川に宿泊しました．晴れましたが，台風一過で湿度がめちゃんこ高かった…．10月最初の快晴を体調不良で逃しましたが，病み上がりで五合目に突撃し M45 をゲット．天文ガイドビギナーの部で掲載していただきました．天リフさんのガチ天にも出演させていただき，20分もお話させていただきました．</p><a href="https://dabokun.github.io/2022/10/04/00000066-2022-09-10/" target="_blank" rel="nofollow" class="link-preview"><div class="og-image"><img src="http://dabokun.github.io/null" alt="ほしよみ社会塵のブログ" loading="lazy"></div><div class="descriptions"><div class="og-title">ほしよみ社会塵のブログ</div><div class="og-description">9月 しらびそ今年の目標はしらびそ or 浄土平往復でした．</div></div></a><a href="https://dabokun.github.io/2022/10/28/00000067-gachiten2022/" target="_blank" rel="nofollow" class="link-preview"><div class="og-image"><img src="http://dabokun.github.io/null" alt="ほしよみ社会塵のブログ" loading="lazy"></div><div class="descriptions"><div class="og-title">ほしよみ社会塵のブログ</div><div class="og-description">ガチ天に出演今月頭に Youtube 上で配信されました 天リフ超会議拡大版「ガチ天2022」2日目に出演してきました．</div></div></a><p>10月後半は研修から帰ってきた静岡の友人と朝霧，Rambさんやけーたろさん，Wadaさん，群馬の友人と初の赤城山でご一緒しました．初の2×2パネルモザイクをし，目盛り環を使った子午線反転とカメラに触れない構図合わせを会得できました．</p><a href="https://dabokun.github.io/2022/10/30/00000068-asagiri-akagi/" target="_blank" rel="nofollow" class="link-preview"><div class="og-image"><img src="http://dabokun.github.io/null" alt="ほしよみ社会塵のブログ" loading="lazy"></div><div class="descriptions"><div class="og-title">ほしよみ社会塵のブログ</div><div class="og-description">あいさつこんにちは．10月後半も，晴天のもと出撃できるかもしれないチャンスが訪れたので，星撮りに遠征へ行きました．</div></div></a><p>まだブログにできていませんが，11月は小海星フェスに行って散財したり，坂本真綾ライブがあったりで夜の遠征はなしでした．12月は，クリスマスに今年最初で最後の天城へ．導入したTOA-645フラットナーを使った撮影ができました．来春の銀河撮影にも期待です．</p><a href="https://dabokun.github.io/2022/12/27/00000071-2022-12-amagi/" target="_blank" rel="nofollow" class="link-preview"><div class="og-image"><img src="http://dabokun.github.io/null" alt="ほしよみ社会塵のブログ" loading="lazy"></div><div class="descriptions"><div class="og-title">ほしよみ社会塵のブログ</div><div class="og-description">今年最初で最後の天城へなんだかんだで，今年は天城に一度も行っていないなーと思っていました．クリスマスにも特に予定ができなかったし（いつものことである），天城，富士山周りはなんだか晴れそうな雰囲気だったので，遠征に出ることにしました．</div></div></a><p>記録：<br>天文遠征14回&#x2F;キャンプ1回&#x2F;星祭り1回&#x2F;ライブ1回</p><h4 id="買ったものなど"><a href="#買ったものなど" class="headerlink" title="買ったものなど"></a>買ったものなど</h4><p>・K-ASTEC DS38-30&#x2F;DP38-30A<br>・防湿庫　東洋リビングED-160CAWP2(B)<br>・キャンプ道具一式（小物を含めるとここには書ききれない…）<br>・ビノテクノ EZM<br>・タカハシ LE40mm<br>・Vixen HR1.6mm(小海)<br>・Pentax XW20mm(小海)<br>・サイトロン QBPフィルター(小海)<br>・EcoFlow Delta2 + 200W ソーラーパネル<br>・タカハシ 645フラットナー130セット，カメラ回転装置(TSA-102)</p><p>来年の目標に節制も追加で．</p><p>それでは皆さん，良いお年を！</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;2022年振り返り&quot;&gt;&lt;a href=&quot;#2022年振り返り&quot; class=&quot;headerlink&quot; title=&quot;2022年振り返り&quot;&gt;&lt;/a&gt;2022年振り返り&lt;/h3&gt;&lt;p&gt;みなさんがやっているので自分も今年のことを振り返ってみようと思います．&lt;/p&gt;</summary>
    
    
    
    <category term="その他" scheme="http://dabokun.github.io/categories/%E3%81%9D%E3%81%AE%E4%BB%96/"/>
    
    
    <category term="その他" scheme="http://dabokun.github.io/tags/%E3%81%9D%E3%81%AE%E4%BB%96/"/>
    
  </entry>
  
  <entry>
    <title>2022年12月 天城</title>
    <link href="http://dabokun.github.io/2022/12/27/00000071-2022-12-amagi/"/>
    <id>http://dabokun.github.io/2022/12/27/00000071-2022-12-amagi/</id>
    <published>2022-12-27T13:30:20.000Z</published>
    <updated>2025-06-11T13:10:53.113Z</updated>
    
    <content type="html"><![CDATA[<h3 id="今年最初で最後の天城へ"><a href="#今年最初で最後の天城へ" class="headerlink" title="今年最初で最後の天城へ"></a>今年最初で最後の天城へ</h3><p>なんだかんだで，今年は天城に一度も行っていないなーと思っていました．クリスマスにも特に予定ができなかったし（いつものことである），天城，富士山周りはなんだか晴れそうな雰囲気だったので，遠征に出ることにしました．</p><span id="more"></span><p>運転しながら割とギリギリまで朝霧にするか天城にするか悩んでいたのですが，知り合いの方も多くいらっしゃるようなので天城に行くことに．<br>16時半頃といういつもの時間に出発し，テキトーに買い出しだけして19時半頃に到着，すでに下の駐車場には同業者がそれなりに多く来ていました．<a href="http://aramister.blog.fc2.com/blog-entry-716.html">Aramisさん</a>に<a href="https://ramb-astro.hatenadiary.jp/entry/2022/12/27/133024">Rambさん</a>，後から<a href="https://twitter.com/ShonanAstroPhot">けーたろさん</a>，<a href="https://twitter.com/hotan666">Wadaさん</a>，<a href="https://twitter.com/okwkzkw">かばねさん</a>もいらっしゃり，お話することができました．<br>TOA-645 フラットナーと回転装置を最近導入したので，今回は TOA での撮影です．鏡筒を買ってから1年以上経過していますが，撮影に使うのはまだ片手に収まるくらいです．</p><p><img src="/images/00000071-2022-12-amagi/01.jpg" alt="撮影の様子"></p><p>クリスマスですからクリスマスツリー星団を…と思いましたがまだ高度が低く，上がってくるまでどうしよう…と悩んだ末にぎょしゃ座の勾玉星雲の一番明るそうなところを拡大撮影で狙ってみました．<br>が，撮影が不安定です．MGEN-3 と PC の接続がすぐに切れてしまい，ディザリングがまともにできません．PC の再起動や USB，ケーブルをガイドカメラとのものと交換してもダメでしたが，Anker のハブを介したところ切れなくなりました．Anker は神．</p><p><img src="/images/00000071-2022-12-amagi/work1.jpg" alt="勾玉星雲 拡大撮影"></p><div style="text-align: center;">「勾玉星雲 拡大撮影」<br>2022年12月24日21時17分～12月25日0時29分 静岡県 天城高原ゴルフコース<br>TOA-130NS+645 Flattener<br>QHY268PH C<br>Gain 26/Offset 50/-20℃/180s*49<br>Optolong UV/IR Cut 2''Total: 147min<br>タカハシ EM-200 TemmaPC Jr. + MGEN-3<br>Adobe Photoshop CC / PixInsight (BlurXTerminator, NoiseXTerminator)<br><br></div><p>そんなこんなで一応2時間半弱撮影…．<br>最近話題の SPCC や BlurXTerminator (BXT) を使っています．本当はもっと星が大きいです…．AI 系のツールに対してはかなり懐疑的(？)な見方をしている AI については不勉強な僕()ですが，学習しているのはデコンボリューションのためのパラメタで，そのための教師データとして HST や JWST を使っていると．おそらく，HST や JWST の画像（の一部）に大気のゆらぎなどを通したぼけやガイドエラーをかけた画像を用意し，それを尤もらしく元の画像に戻すようなデコンボリューションのパラメタを学習しているのではないかと考えられます．学習後のネットワークモデルさえあればいいので，当然プログラムが走るときに HST や JWST の画像は必要にはならないでしょう．それならいいのかな…いや良くない気もする．自分の立ち位置がよくわからなくなります．<br>BXT ではなるべくインテグレーション直後に実行することが推奨されていますが，リニアステージで適用すると asinh ストレッチの際に星の色がおかしくなってしまう問題が報告されているようです（たとえば<a href="https://snct-astro.hatenadiary.jp/entry/2022/12/18/155747#%E4%BD%BF%E3%81%84%E6%96%B9%E3%81%A82022%E5%B9%B412%E6%9C%88%E6%99%82%E7%82%B9%E3%81%A7%E3%81%AE%E6%B3%A8%E6%84%8F%E7%82%B9">だいこもん氏の記事</a>）．自分も同じで，この問題は NoiseXTerminator (NXT) でも生じています．ただ他にやりようがないので，おかしくなった星の色は Photoshop でなんとなく戻しているというのが現状です．青い星が紫っぽくなってしまうので，この辺の色相をいじっている感じ…．まだ改善の余地がありそうなツールだと感じていますが，今回のように焦点距離が長く，かつシーイングが悪くて星像が大きい画像に効果絶大なのは認めざるをえません．自分も考え方を変えたほうがいいのかな…．とりあえず AI 系のツールを使っていることはちゃんと明記しておきたいと思います．やってることが結局デコンボリューションなのであれば，そのパラメタ値だけでもちゃんとターミナルに出力してくれたりすると，まだ再現性があっていいなと思うのですが．<br>SPCC については，勉強したらかなり面白そうなツールだと思います．特に蒼月城さんの以下の PCC 解説動画は一見の価値があります．まだ流し見しかできていないですが，PCC を追実装したくなったら真っ先に参照したい動画ですね．</p><div class="video-container"><iframe src="https://www.youtube.com/embed/52ZnyJ9oYrY" frameborder="0" loading="lazy" allowfullscreen></iframe></div><p>クリスマスツリー星団の子午線通過が0:17頃でしたが，0時からぼっち・ざ・ろっく！の最終回が配信されていたのでそれが終わるまでリアタイ．星空の下で聴く「星座になれたら」，いい最終回だった…．（スピーカーで聞いてたので周りの人うるさかったらすみませんでした…）</p><p><img src="/images/00000071-2022-12-amagi/02.jpg" alt="夜も更けていきます…"></p><p>視聴後に対象を変えて撮影開始．導入や，カメラを90度回したりしていたので30分ほど時間がかかってしまいました．クリスマスツリー星団は双子座ガンマ星（アルヘナ，ポルックスの左足元に相当する2等星）と経度がかなり近いので，こいつを導入して南に振っていくと導入しやすいようです．撮影開始後は特に問題は発生せず4時過ぎくらいまで撮影…．</p><p><img src="/images/00000071-2022-12-amagi/work2.jpg" alt="クリスマスツリー星団"></p><div style="text-align: center;">「クリスマスツリー星団」<br>2022年12月25日1時00分～4時38分 静岡県 天城高原ゴルフコース<br>TOA-130NS+645 Flattener<br>QHY268PH C<br>Gain 26/Offset 50/-20℃/180s*62<br>Optolong UV/IR Cut 2''Total: 186min<br>タカハシ EM-200 TemmaPC Jr. + MGEN-3<br>Adobe Photoshop CC / PixInsight (BlurXTerminator, NoiseXTerminator)<br><br></div><p>こちらは3時間ちょい．なかなか見栄えはするんじゃないでしょうか．<br>645フラットナーの実力を出し切れたかというとそうでもない感じがしていますが，まあまたシーイングが良いタイミングで…．<br>今回はフラット撮影を一切していません．勾玉の方はなぜか少し被りがありましたが，グラデーションマスクで用意に目立たなくできるレベルでひじょうにやりやすかったです．フルサイズ CMOS がほしくなってきます…．</p><p>薄明にまだ30分ちょいあったので，眼視に切り替えて M51, M104, M81&#x2F;82 を見ました．その場にいらした何人かの方にも見てもらいました．小海で買った PENTAX XW-20mm をようやく使えましたが，見やすく TOA との組み合わせはシャープで，見ごたえがありましたね．<br>来年こそはメシエマラソンしてみたいな…．</p><p><img src="/images/00000071-2022-12-amagi/03.jpg" alt="朝焼けに照らされる富士山"></p><p>片付けて7時前に離脱．朝焼けに照らされた冬の富士山があまりに綺麗だったので，思わず伊豆スカイラインに課金（山伏峠まで…おりてからの道が狭かったので二度と使いたくない）．<br>休憩を挟みつつ9時半頃の帰宅となりました．</p><p>来年も星撮りたい…．余裕あるかな…．<br>それでは．</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;今年最初で最後の天城へ&quot;&gt;&lt;a href=&quot;#今年最初で最後の天城へ&quot; class=&quot;headerlink&quot; title=&quot;今年最初で最後の天城へ&quot;&gt;&lt;/a&gt;今年最初で最後の天城へ&lt;/h3&gt;&lt;p&gt;なんだかんだで，今年は天城に一度も行っていないなーと思っていました．クリスマスにも特に予定ができなかったし（いつものことである），天城，富士山周りはなんだか晴れそうな雰囲気だったので，遠征に出ることにしました．&lt;/p&gt;</summary>
    
    
    
    <category term="遠征記" scheme="http://dabokun.github.io/categories/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    
    <category term="写真" scheme="http://dabokun.github.io/tags/%E5%86%99%E7%9C%9F/"/>
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="画像処理" scheme="http://dabokun.github.io/tags/%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86/"/>
    
    <category term="遠征記" scheme="http://dabokun.github.io/tags/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    <category term="OpenCV" scheme="http://dabokun.github.io/tags/OpenCV/"/>
    
    <category term="機材" scheme="http://dabokun.github.io/tags/%E6%A9%9F%E6%9D%90/"/>
    
  </entry>
  
  <entry>
    <title>月間天文ガイド2023年1月号に掲載していただきました</title>
    <link href="http://dabokun.github.io/2022/12/06/00000069-tenmonguide202301/"/>
    <id>http://dabokun.github.io/2022/12/06/00000069-tenmonguide202301/</id>
    <published>2022-12-06T03:36:11.000Z</published>
    <updated>2025-06-11T13:10:29.954Z</updated>
    
    <content type="html"><![CDATA[<h3 id="あいさつ？"><a href="#あいさつ？" class="headerlink" title="あいさつ？"></a>あいさつ？</h3><p>こんにちは．皆既月食に星フェス，ライブとブログに書きたいネタが溜まっていますが今回は短めで．昨日12月5日発売になりました月間天文ガイド2023年1月号 読者の天体写真ビギナーの部に M45 の写真を掲載していただきました．</p><span id="more"></span><p><img src="/images/00000069-tenmonguide202301/01.jpg" alt="2023年1月号 読者の天体写真ビギナーの部"><br>書店にお立ち寄りの際は是非ご覧ください．<a href="https://dabokun.github.io/2022/10/04/00000066-2022-09-10/#10%E6%9C%88%E5%88%9D%E3%82%81-%E4%BA%94%E5%90%88%E7%9B%AE">10月頭に五合目で撮影したもの</a>ですね．11月末の坂本真綾ライブでもフォロワーさんのほしい方にはがきサイズで印刷してお配りしていた写真です．この時の話はまた次回．<br><img src="/images/00000069-tenmonguide202301/02.jpg" alt="自前で印刷してお配りしていました"><br>プレヤデスと書かれていますがプレアデスのほうが正しいかもしれません（応募用紙をいつも手書きで書いて送っていて，手元に自分で何と書いたかのデータが残っていないのは今後改善したいと思います）．講評では星の中心はもっと飛ばしたほうが良いということで，眠めの画を作っている自覚はあるのでここも今後取り入れていきたいと思います．まだ自分のビギナー枠は一回分残っていますので有効に使っていくつもりです笑．<br>最初に書きました通りブログに書きたいネタが溜まっているので次のを書きます．<br>それでは！</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;あいさつ？&quot;&gt;&lt;a href=&quot;#あいさつ？&quot; class=&quot;headerlink&quot; title=&quot;あいさつ？&quot;&gt;&lt;/a&gt;あいさつ？&lt;/h3&gt;&lt;p&gt;こんにちは．皆既月食に星フェス，ライブとブログに書きたいネタが溜まっていますが今回は短めで．昨日12月5日発売になりました月間天文ガイド2023年1月号 読者の天体写真ビギナーの部に M45 の写真を掲載していただきました．&lt;/p&gt;</summary>
    
    
    
    <category term="天体写真" scheme="http://dabokun.github.io/categories/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="その他" scheme="http://dabokun.github.io/tags/%E3%81%9D%E3%81%AE%E4%BB%96/"/>
    
  </entry>
  
  <entry>
    <title>10月後半遠征</title>
    <link href="http://dabokun.github.io/2022/10/30/00000068-asagiri-akagi/"/>
    <id>http://dabokun.github.io/2022/10/30/00000068-asagiri-akagi/</id>
    <published>2022-10-30T10:43:21.000Z</published>
    <updated>2025-06-11T13:10:18.093Z</updated>
    
    <content type="html"><![CDATA[<h3 id="あいさつ"><a href="#あいさつ" class="headerlink" title="あいさつ"></a>あいさつ</h3><p>こんにちは．10月後半も，晴天のもと出撃できるかもしれないチャンスが訪れたので，星撮りに遠征へ行きました．</p><span id="more"></span><h3 id="朝霧へ"><a href="#朝霧へ" class="headerlink" title="朝霧へ"></a>朝霧へ</h3><p>初回は静岡で就職した友人と久々に朝霧で落ち合うことに．対象は遠征地によって決めようと思っていたので，朝霧ということで北の対象を狙うことに．<br>現地には21時頃到着．狙うはハート胎児星雲です．<br>ところが，FSQ-85+APS-C ではあまりにも画角が狭すぎ，少なくとも2×2パネルモザイクしなければ全景は入らなさそうです．胎児だけにしときたいという気持ちとモザイクをしたいという気持ちがせめぎあい，結局茨の道へ進むことにしました．</p><p><img src="/images/00000068-asagiri-akagi/01.jpg" alt="モザイク予定"><br>モザイク予定，長方形が1パネルです</p><h4 id="目盛環を使った子午線反転と-APT-による構図合わせ"><a href="#目盛環を使った子午線反転と-APT-による構図合わせ" class="headerlink" title="目盛環を使った子午線反転と APT による構図合わせ"></a>目盛環を使った子午線反転と APT による構図合わせ</h4><p>撮影時間は1パネルあたり2時間とし，今回だけではなく次の機会も使ってモザイクに挑戦してみることにしました．<br>まずは1パネルだけしか撮れなくでも作品にはなりそうな胎児星雲を撮っていきます．コマごとに見ていくと一方向に流れてしまうような細かい問題はあったものの，特に問題なく撮影を進めていき，2パネル目に入る際にちょうどいいタイミングなので子午線反転を挟むことにしました．<br>手動導入派で「Plate Solve？ナニソレオイシイノ？」というような人間にとって（特に天頂付近を通過するような天体の）子午線反転は苦痛そのものです．いつもであれば，手動で導入し直す→カメラを180度回す→構図をあわせる ということをしていたのですが，これではあまりにも時間がかかってしまうので，もう少しいい方法がないかと，その少し前にちょうど子午線反転を挟んでいた友人と話し合いました．赤道儀には目盛環がありますので，これを使ってできないかと．ちゃんと考えれば当たり前ですが，子午線反転でやりたいことは<br>①赤経を180°回転させる<br>②天の北極（天の赤道より南の対象の場合は南極）に対して対称移動する<br>ということです．①についてはそのまんまですが，②を目盛環の言葉に言い換えれば，<br>②(90°-対象天体の緯度)×2だけ北へ（天の赤道より南の対象の場合は南へ）目盛環を回す<br>ということをすれば，理論的にはできそうです．<br>使っていたEM-200 TemmaPC Jr. はモーターの回転がちょっと遅いので，今回は手動でやってみることに．<br>結論，手動でやったので完璧に画角が合うわけではありませんでしたが，うまくいきました．胎児星雲を構成する星の一部が写野に収まってくれました．</p><p>さて，導入ができたら次の関門は構図合わせです．なるべく経度の回転だけでモザイクしたいので，それまで撮っていた胎児星雲のパネルに構図をあわせたいです．が，子午線反転後は180°画像が回転してしまい単にライブビューしながらでは厳密な構図合わせができません．これまではカメラを180°手で回していましたが，どうしても回転ズレが出てきてしまいます．<br>そこで，APT の機能をよくよく調べてみると，Preview Effect なるものがあり，メニューのなかの Rotate CW からプレビューを90°, 180°, 270°と回転できることを見つけました．</p><p><img src="/images/00000068-asagiri-akagi/02.jpg" alt="Rotate CW のやり方"></p><p>しかし，これはライブビューについても撮影画像プレビューに対しても有効になるので，結局両方 180° 回転してしまい意味がありません．そこで，ちょっと複雑ですが<br>①撮影画像プレビューを 180° 回転させる<br>②Magnifier でわかりやすい星を一部拡大する．そのまま Magnifier を表示しておく<br>③プレビューの 180° 回転をやめて元に戻す<br>④ライブビューにし，②で拡大しておいたわかりやすい星を表示したままにしておいた Magnifier へ導入する<br>という手順を踏めば，子午線反転後でもカメラに触れることなく構図合わせが可能になると考えました．<br>こちらもうまくいき，かなり厳密な構図合わせができましたので，そのまま赤経だけ回転させて2パネル目へ進むことができました．</p><p><img src="/images/00000068-asagiri-akagi/03.jpg" alt="友人の車と"><br><img src="/images/00000068-asagiri-akagi/04.jpg" alt="友人と"></p><p>この日にテキトーに撮った星景写真をば．<br>一晩快晴で朝霧の駐車場は風もある程度遮ってくれますし，かなり快適に過ごすことができました．</p><h3 id="赤城へ"><a href="#赤城へ" class="headerlink" title="赤城へ"></a>赤城へ</h3><p>そんなこんなで2パネル目まで撮り終えましたが消化不良です．なんとか土日に晴れ間がないか探し，群馬の赤城がいい感じだぞと．群馬であれば北も暗いはずです．埼玉県民の <a href="https://twitter.com/haya_astronomy">Ramb くん</a>にも声をかけ，群馬在住の（坂本真綾さんファンの）友人も誘って新坂平駐車場へ．赤城へ行くのは初めてです．現地につくと，フォロワーの <a href="https://twitter.com/hotan666">Wada さん</a>や途中から<a href="https://twitter.com/ShonanAstroPhot">けーたろさん</a>も合流され，他にも天体写真屋さんが複数いらっしゃり，賑やかな夜になりました．土日ということもあり走り屋も多く，別の意味での賑やかさもありましたが…笑．遠くからエンジン音やタイヤの鳴き声が聞こえます．上州のからっ風，赤城おろしという名もある通り，風が吹いていましたが，時期にしてはかなり弱い方で助かりました．EM-200 はびくともしませんで，ガイドも問題ありません．上述の通り子午線反転問題も自分なりのやり方が見つかり，ぶっちゃけ撮影中ほとんどやることがないなと思えるまで気が楽になりました．夜中の寒いなか次はアレしなきゃコレしなきゃと考えながらやるのは辛いので，かなり快適になったなあと思います．最新の赤道儀を使えば，たぶんもっと楽なんでしょうが…．<br>そんなこんなでハート胎児の3,4パネル目も撮影できました．4パネル目は正直目分量で赤経を回転させましたが，結果オーライだったので良しです．</p><p><img src="/images/00000068-asagiri-akagi/work01.jpg" alt="ハート星雲，胎児星雲"></p><div style="text-align: center;">「ハート星雲，胎児星雲」<br>2022年10月26日～10月27日 静岡県 朝霧アリーナ駐車場<br>2022年10月29日～10月30日 群馬県 赤城山 新坂平駐車場<br>FSQ-85EDP+Flattener 1.01X<br>QHY268C<br>Gain 26/Offset 50/-20℃/180s*40*4 Panel<br>Optolong UV/IR Cut 2''<br>Total: 480min<br>EM-200 TemmaPC Jr. + MGEN-3<br>Adobe Photoshop CC / Astro Pixel Processor / GraXpert / PixInsight<br><a href="https://www.astrobin.com/v0qgy4/">AstroBin</a><br><br></div><p>モザイクには<a href="https://so-nano-car.com/astro-pixel-processor">そーなのかーさんのブログ</a>を参考に APP を使いました．毎度ありがたい限りです．今回は “dynamic optical distortion correction” をオンにしたらうまくいき，オフでは一部がちゃんとモザイクできませんでした．<br>それから，今回から <a href="https://www.graxpert.com/">GraXpert</a> というソフトを使ってみました．PI の DBE と同じようなことができるソフトです．なかなかいい感じです．</p><p>長方形にクロップして7200万画素，FSQ-85+APS-C 冷却 CMOS による圧巻のハート胎児ができた！と自画自賛してとても満足しているのですがいかがでしょうか．<br>ぜひ <a href="https://www.astrobin.com/v0qgy4/">AstroBin</a> などで拡大してご覧になってください（容量が大きいので注意！）．<br>赤城では時間も余ったので，おまけでカリフォルニア星雲も撮ってきました．子午線反転は今回カリフォルニアに行く前に挟んだので，厳密な構図合わせはせずに済みました．</p><p><img src="/images/00000068-asagiri-akagi/work02.jpg" alt="カリフォルニア星雲"></p><div style="text-align: center;">「NGC1499 カリフォルニア星雲」<br>2022年10月29日～10月30日 群馬県 赤城山 新坂平駐車場<br>FSQ-85EDP+Flattener 1.01X<br>QHY268C<br>Gain 26/Offset 50/-20℃/180s*49<br>Optolong UV/IR Cut 2''<br>Total: 147min<br>EM-200 TemmaPC Jr. + MGEN-3<br>Adobe Photoshop CC / GraXpert / PixInsight<br><a href="https://www.astrobin.com/wogl20/">AstroBin</a><br><br></div><p>こちらも美しく，いい感じです．余った時間で NGC1333+IC348 周辺も考えましたが，またモザイクする羽目になるのでまた今度ということにしました笑．こちらはより露光時間が必要でしょうか．いつか撮ってみたいです．</p><p><img src="/images/00000068-asagiri-akagi/05.jpg" alt="友人の車と"><br><img src="/images/00000068-asagiri-akagi/06.jpg" alt="星仲間たちと"></p><p>群馬在住の友人，Ramb くん，けーたろさんと記念写真．この日も一晩良い空でした！</p><p><img src="/images/00000068-asagiri-akagi/07.jpg" alt="EFDelta2"><br>そうそう，帰宅後しばらくしたらこいつ（EFDelta2）が来ました．次回以降の出撃で電子レンジや（もしかしたらケトルも）使えるかもしれません！</p><p>次の出撃機会は月食でしょうか．今のところ関東は天気良さそうなので，楽しみです！<br>それでは！</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;あいさつ&quot;&gt;&lt;a href=&quot;#あいさつ&quot; class=&quot;headerlink&quot; title=&quot;あいさつ&quot;&gt;&lt;/a&gt;あいさつ&lt;/h3&gt;&lt;p&gt;こんにちは．10月後半も，晴天のもと出撃できるかもしれないチャンスが訪れたので，星撮りに遠征へ行きました．&lt;/p&gt;</summary>
    
    
    
    <category term="遠征記" scheme="http://dabokun.github.io/categories/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="遠征記" scheme="http://dabokun.github.io/tags/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    <category term="赤道儀" scheme="http://dabokun.github.io/tags/%E8%B5%A4%E9%81%93%E5%84%80/"/>
    
  </entry>
  
  <entry>
    <title>天リフ超会議「ガチ天2022」に出演しました</title>
    <link href="http://dabokun.github.io/2022/10/28/00000067-gachiten2022/"/>
    <id>http://dabokun.github.io/2022/10/28/00000067-gachiten2022/</id>
    <published>2022-10-28T07:59:13.000Z</published>
    <updated>2025-06-11T13:15:12.271Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ガチ天に出演"><a href="#ガチ天に出演" class="headerlink" title="ガチ天に出演"></a>ガチ天に出演</h3><p>今月頭に Youtube 上で配信されました 天リフ超会議拡大版「ガチ天2022」2日目に出演してきました．</p><div class="video-container"><iframe src="https://www.youtube.com/embed/55yLCvr47mM" frameborder="0" loading="lazy" allowfullscreen></iframe></div><span id="more"></span><p>以下に私のパートのアーカイブも公開されていますので未視聴の方はぜひ笑．</p><div class="video-container"><iframe src="https://www.youtube.com/embed/8cLKa4sQOqk" frameborder="0" loading="lazy" allowfullscreen></iframe></div><p>以前自分の撮った写真を紹介する天リフさんの生配信で数分お話させてもらったことはあるのですが，今回は20分程度トークしました．<br>お題は「1人1人の『ガチ天』に向き合う態度」ということで，なかなか難しいテーマです．自分の態度を語るとなると自分語りは避けられません．前回のトーク時のアンケートで「自分語りばっかじゃねぇか」みたいなコメントがあったのを私は覚えています()．かといって自分の態度くらいしか語ることがないのもまた事実なので，なんとか自分の話は半分程度にとどめつつ，残り半分でテイクホームメッセージのある内容を話せればいいかなと考えました．<br>構成としては，前半に自分の研究の話をし（よく「何の研究をしてるんですか？」と聞かれて私が答えに詰まることがある），後半は天体写真に向き合う態度のなかで，自分が普段考えていることを主に話させていただきました．<br>特に「視野を広げる」「軸をおいて考えてみる」の2点は大事で，どちらも研究を数年続けて得た態度なのかなと思います．軸を置いて関連研究をプロットすると，どこに穴があるのか見えてくる＝新規性を発見するということに繋がるわけですね．もちろん，他にも軸がないかというのを探してみたり，相関性のある軸を選ぶと意味がないので（プロットした時に直線で並んだら相関性のある軸をとっていないか疑いましょう），ちゃんと独立した軸を選んでいるのかを検証しながら考えていくことも重要になってきます．</p><p><img src="/images/00000067-gachiten2022/01.jpg" alt="発表中の様子"></p><p>（「軸起き」ではなく「軸置き」です…一晩で作ったクオリティなのがバレます）</p><p>以下アンケートでいただいたコメントです．</p><blockquote><p>視野がぱっと開くような感じのお話でした。ありがとうございました。近い将来、天文写真の一分野とか自然現象を、観測データセットをVRゴーグルで自由に3次元インタラクティブ視（プラス動画要素も入れて）して楽しむようになるかもしれないなーなどど妄想いたしました。</p></blockquote><p>VR も楽しいですが、AR でリアルタイムの星空に情報を投影できるようになると絶対楽しいだろうなあと私も考えています．最近発売されたアストロイドなんかも天文×AR の先駆けになりそうですよね．</p><blockquote><p>何事も研究者の視点ですね。思考の仕方がとても興味深かったです。</p></blockquote><p>伝わる人には伝わったようで安心しました．</p><p>直接アンケート結果のフォームを見たわけではなく天リフさんから教えていただいたので，ネガティブなものはもしかしたらフィルターされていたりするのかもしれませんが，とにかくフィードバックをいただけると励みになります．<br>天リフさん，見ていただいた方，コメントいただいた方，どうもありがとうございました．また機会がありましたら参加してみようと思います．<br>それでは！</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;ガチ天に出演&quot;&gt;&lt;a href=&quot;#ガチ天に出演&quot; class=&quot;headerlink&quot; title=&quot;ガチ天に出演&quot;&gt;&lt;/a&gt;ガチ天に出演&lt;/h3&gt;&lt;p&gt;今月頭に Youtube 上で配信されました 天リフ超会議拡大版「ガチ天2022」2日目に出演してきました．&lt;/p&gt;
&lt;div class=&quot;video-container&quot;&gt;&lt;iframe src=&quot;https://www.youtube.com/embed/55yLCvr47mM&quot; frameborder=&quot;0&quot; loading=&quot;lazy&quot; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;</summary>
    
    
    
    <category term="その他" scheme="http://dabokun.github.io/categories/%E3%81%9D%E3%81%AE%E4%BB%96/"/>
    
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="その他" scheme="http://dabokun.github.io/tags/%E3%81%9D%E3%81%AE%E4%BB%96/"/>
    
  </entry>
  
  <entry>
    <title>9月しらびそ，10月前半五合目</title>
    <link href="http://dabokun.github.io/2022/10/04/00000066-2022-09-10/"/>
    <id>http://dabokun.github.io/2022/10/04/00000066-2022-09-10/</id>
    <published>2022-10-04T07:44:37.000Z</published>
    <updated>2025-06-11T13:09:31.026Z</updated>
    
    <content type="html"><![CDATA[<h3 id="9月-しらびそ"><a href="#9月-しらびそ" class="headerlink" title="9月 しらびそ"></a>9月 しらびそ</h3><p>今年の目標はしらびそ or 浄土平往復でした．</p><span id="more"></span><p>どちらも家からの距離は 300km を軽く超えてくるので，なかなか行こうという踏ん切りがつきませんでしたが，もう逃すと冬場は厳しくなってしまうので，今回はしらびそへ．<br>前日に王滝でキャンプをする予定でしたが，台風15号の影響でキャンセル．いつか王滝も往復したいです．<br>中央道をひた走ってしらびそ高原天の川へ．山道自体は意外と短い印象でしたが，山道に到達するまでが長いんですよね…．登っていると途中から雲に突入し，視界は 10m ほどに．大丈夫かこりゃ．</p><p><img src="/images/00000066-2022-09-10/01.jpg" alt="霧の中の宿というのもなかなか幻想的です"></p><p>色々と問題があったようで，ハイランドしらびそから経営母体が変わってからどうなったんだろうと，そもそも変わる前を知らないのに少し観察してみましたが，スタッフの方々はやはり星が好きな人が多く，ホスピタリティが高い印象を受けました．従業員の方を観察しても，多分意味は無いのでしょうが…．夕飯も美味しい…が，メニューを見てもどれがどれかわからない笑．メニューが変更になって，存在しないメニューが記載されていることもあるとか．まあ山の上にありますからね．<br>夜20時頃になると，星空解説会が開かれます．外に出ると，なんと晴れているではありませんか．とはいえ晴れたりガスったりなので，眼視機材だけ出します．どこかから小学生くらいの団体も来ていたみたいで，近くにいた何人かに覗いてもらいました．なんだかんだでちゃんと宿に泊まって星空観察会に参加したのは初めてな気がするので，少しテンションが上がります．<br>ガスが出ていたというのもあるかもしれませんが，やはり乗鞍同様しらびその空は暗いです．関東のそこらの星空とは一段違いますね．ずっと眺めていたかったですが，お風呂が22時までで入るのを忘れていたので，泣く泣く観測会を抜け出してお風呂へ．お湯はかなり熱かった．戻ってくると，観測会も終了し，撮影している何人か以外は宿に戻っています．まだ晴れているので撮影の機材も出してみます．<br>風も少なく，快適な気温でしたが，とにかく結露がひどい．フードがあればなんとかなると思っていましたが全くそんなことはなく，FSQ も TOA も秒で曇ってしまいました．TOA の方は<a href="https://twitter.com/ShonanAstroPhot">けーたろさん</a>に専用ヒーターを作っていただいたのですが，こちらを使っていてもあえなく撃沈．それだけひどい結露だったということですね．</p><p><img src="/images/00000066-2022-09-10/02.jpg" alt="本体セルにヒーターが巻いてあります"></p><p>撮影は M33 を狙ってみました．APS-C だともうちょい焦点距離がほしいかなーと思いますが，赤ポチせずとも中央に向かった構造が面白い天体です．しらびそくらいの暗い空では，ファインダーでもしっかり見えます．</p><p><img src="/images/00000066-2022-09-10/work01.jpg" alt="M33"></p><div style="text-align: center;">「M33 さんかく座銀河」<br>2022年9月24日～9月25日 長野県 しらびそ高原<br>FSQ-85EDP+Flattener 1.01X<br>QHY268C<br>Gain 26/Offset 50/-20℃/180s*46<br>Optolong UV/IR Cut 2''<br>Total: 138min<br>タカハシ EM-11 Temma2 Jr. + MGEN-3<br>Adobe Lightroom CC / Photoshop CC / PixInsight<br><br></div><p>結露がひどい中撮影した &amp; フラットを撮らずトリミングしたので，こんな感じで．<br>一眼も出せばよかったですが，宿でぬくぬくしていて色々撮り逃しました．まあまた行けばいいか．<br>そんなこんなで帰りにはシーズン終わりの彼岸花を．こちらもまともに見たのは初めてな気がします．綺麗ですね．</p><p><img src="/images/00000066-2022-09-10/02-1.jpg" alt="彼岸花"><br><img src="/images/00000066-2022-09-10/02-2.jpg" alt="綺麗ですね"></p><p>運転感覚を覚えるために行ったしらびそ．結局寄り道を含め2日で 850km 運転しました．帰宅後は疲労で視界を動かすと残像に黒いもやが見えました．<br>色々できなかったことも多かったので，また行きたいと思います．</p><h3 id="10月初め-五合目"><a href="#10月初め-五合目" class="headerlink" title="10月初め 五合目"></a>10月初め 五合目</h3><p>10月初めは記録的快晴に恵まれましたね．<br>僕はというと……</p><p>体調を崩しました．マヂ病み．しらびその疲れが出たのでしょうか．<br>38度ちょいくらいの発熱にお腹を下すという，なんか昨年末も似たような症状に見舞われたんですがなんなんですかね．ちなみに簡易検査キットで流行り病は陰性でした．</p><p>自分はこんななのに，知り合いの方々がみんな遠征に出ている．悔しくないわけがなかろう．ということでまずはなんとか病を気力で治します．ちなみに記録的快晴が終了した日にかなり回復しました．神も仏もないものか．<br>だがここで Windy を確認すると，月-火で富士山～伊豆半島周辺に晴れ間があるではありませんか．火曜に大事な発表も控えていましたが，資料をサクッと作って早速準備をします．直前の ECMWF17時更新でやはり五合目がいい感じなので，荷物をまとめて出発．これでだめだと本当に凹むので，あまり期待はせずに向かいます．<br>道中，小動物が5匹くらい，山の主みたいな鹿を3頭，普通の鹿を2頭くらい見ました．あんな立派な鹿が富士山周辺にいるとは思っていませんでしたので意外でした．<br>道中も雲が多く，到着しても雲多し．Windy 外したかぁと思いながらのんびり赤道儀を組み立てていたら，少しずつ雲がなくなっていきます．</p><p><img src="/images/00000066-2022-09-10/03.jpg" alt="月没待ち"></p><p>狙おうと思っていた M45 も見えてきました．本当は今年は狙わんでもいいかなと思っていたのですが，月没後から子午線通過までちょうどいいタイミングで狙える天体だった &amp; せっかく来たのに難しい天体で躓いてもつらいので，今回はこちらを撮ってみます．なんだかんだで冷却で撮ったこともなかったしね．</p><p><img src="/images/00000066-2022-09-10/04.jpg" alt="露光開始！"></p><p>時々ちぎれ雲が飛んできますが，前半は昴にはあまりかからず．しかし一時間ちょいたった頃にピントをチェックするためにバーティノフマスクをつけたところズレています．どうやら最初からズレていたようです．何やってんだ．<br>ピントを修正して気を取り直します．</p><p><img src="/images/00000066-2022-09-10/05.jpg" alt="天の川も見えてきました"></p><p>そんなこんなしていたら月も沈んで天の川もしっかり見えてきました．南の対象を狙っておいて何ですが，五合目の北の暗さはイイです．<br>ただ今回は富士山から吹き下ろしの強風が吹いていました．自分が機材を広げたところは木々のおかげか風向き的に絶妙に避けられていたのか微風程度でガイドにも全く影響がありませんでしたが，北を狙うために一番上で撮影していたら辛いことになっていたと思います．</p><p><img src="/images/00000066-2022-09-10/06.jpg" alt="家車"><br>オリオンがいい感じに上ってきたので，愛車(家の車です)ともパシャリ．僕が遠征に出るようになって一気に走行距離が増えましたが，それでもまだ11年でようやく5万キロに到達しました．</p><p>2時頃になると，やばそうな筋状の高層雲に襲われました．3時まで粘ってだめだったら帰ろうと思ったのが運のツキ．いざ3時頃になると，また雲もなくなり先程以上に良い空になってしまい，薄明まで撮影コースとなりました．<br>手前(富士宮市街？)だけだったようですが，低層には雲海も出ていたようです．</p><p><img src="/images/00000066-2022-09-10/07.jpg" alt="雲海"><br>街明かり全部ではありませんが，光をある程度遮ってくれていました．</p><p><img src="/images/00000066-2022-09-10/08.jpg" alt="最後に一枚"><br>動画を見たりしながらゆったり過ごしていると昴もとうに子午線を超え，オリオンもあんなに高く．道路も混むので，急いで撤収して7時頃に帰宅となりました．<br>帰りに鹿は1頭も見ませんでした．</p><p>肝心の M45 を最後に載せておきます．</p><p><img src="/images/00000066-2022-09-10/work02.jpg" alt="M45 昴"></p><div style="text-align: center;">「M45 昴」<br>2022年10月03日～10月04日 静岡県 富士宮口五合目<br>FSQ-85EDP+Flattener 1.01X<br>QHY268C<br>Gain 26/Offset 50/-20℃/180s*89<br>Optolong UV/IR Cut 2''<br>Total: 267min<br>タカハシ EM-200 TemmaPC Jr. + MGEN-3<br>Adobe Lightroom CC / Photoshop CC / PixInsight<br><a href="https://www.astrobin.com/u7k1ii/">AstroBin</a><br><br></div><p>貴重な記録的快晴を無駄にしましたが，転んでもただでは起きぬです．<br>北側の分子雲が好きなので，こんな感じの構図にしてみましたがいかがでしょうか．<br>最近話題になっている「PSF Signal Weight」も使ってみました．詳しくは<a href="https://masahiko.me/integration-new-method/">丹羽さんブログ</a>や<a href="https://snct-astro.hatenadiary.jp/entry/2022/09/17/232845">だいこもんさんブログ</a>を参照ください．微妙なフレームでもソフト側でしっかり活用してくれるのは嬉しいですね．おかげで像やS&#x2F;Nの悪化等はあれど4時間半近いデータを利用できました．</p><p><img src="/images/00000066-2022-09-10/comp.jpg" alt="前回のと比較"></p><p>前回 6D で撮ったものと比較してみました．前回のも好きですが，今回のほうが周辺の分子雲の色が青と分離していて冷却 CMOS っぽいイメージになったのかなと思います．<br>皆さんはどちらが良いと思いますか，良ければコメントくださいね（定期）</p><p>それでは，また新月期に．</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;9月-しらびそ&quot;&gt;&lt;a href=&quot;#9月-しらびそ&quot; class=&quot;headerlink&quot; title=&quot;9月 しらびそ&quot;&gt;&lt;/a&gt;9月 しらびそ&lt;/h3&gt;&lt;p&gt;今年の目標はしらびそ or 浄土平往復でした．&lt;/p&gt;</summary>
    
    
    
    <category term="遠征記" scheme="http://dabokun.github.io/categories/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    
    <category term="写真" scheme="http://dabokun.github.io/tags/%E5%86%99%E7%9C%9F/"/>
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="遠征記" scheme="http://dabokun.github.io/tags/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
  </entry>
  
  <entry>
    <title>星ナビ掲載，キャンプと久々乗鞍</title>
    <link href="http://dabokun.github.io/2022/09/04/00000065-2022-07-08/"/>
    <id>http://dabokun.github.io/2022/09/04/00000065-2022-07-08/</id>
    <published>2022-09-04T06:41:40.000Z</published>
    <updated>2025-06-11T13:09:02.760Z</updated>
    
    <content type="html"><![CDATA[<h3 id="星ナビ「ネットよ今夜もありがとう」コラムに弊ブログが紹介されました"><a href="#星ナビ「ネットよ今夜もありがとう」コラムに弊ブログが紹介されました" class="headerlink" title="星ナビ「ネットよ今夜もありがとう」コラムに弊ブログが紹介されました"></a>星ナビ「ネットよ今夜もありがとう」コラムに弊ブログが紹介されました</h3><p>9月5日発売の星ナビ2022年10月号に掲載させていただきました．投稿写真ではなく，「<a href="http://www.astroarts.co.jp/hoshinavi/magazine/hiroba/net/index-j.shtml">ネットよ今夜もありがとう</a>」という天文を楽しむ人のブログやホームページを紹介するコラムです．毎度お世話になっている<a href="http://morio.way-nifty.com/blog/2022/07/post-d023ea.html">M&amp;Mさん</a>からのバトンです．もともと天体写真界隈（ネット）ではそこまで親密な友人関係を作ったり，特定のグループに所属しないように心がけていたことや，Twitter などで見かける方々はすでに紹介されているだろう（バトンを渡す相手を見つけるのが大変だろう）という勝手な思い込みがあったので，正直載ることはない，仮に指名があったとしても断るだろうと最初は思っていました．が，M&amp;Mさんからの指名とあってはそのご厚意を無下にするわけにはいきませんし，よくよく見てみると自分を含め意外と紹介されてない人はいるみたいなので，バトンを引き受けることにしました．とはいっても300字程度の紹介文を書いて，あとは先方の方がよしなにやってくれるので，大変なことは全くありませんでした．</p><span id="more"></span><p><img src="/images/00000065-2022-07-08/h01.jpg" alt="ブログ紹介コラムです"></p><p>このように載せていただけるのは大変ありがたいことです，M&amp;Mさん，アストロアーツさん，ありがとうございました．<br>次回（12月号）に誰を指名したかはお楽しみに．</p><h3 id="7月-ふもとっぱらでキャンプデビュー"><a href="#7月-ふもとっぱらでキャンプデビュー" class="headerlink" title="7月 ふもとっぱらでキャンプデビュー"></a>7月 ふもとっぱらでキャンプデビュー</h3><p>さて，7月は星見をサボってキャンプデビューへ．テントの墓場と名高いふもとっぱらキャンプ場です．もともと昨年12月に行く予定があったのですが，体調を崩したので夏にデビューとなりました．</p><p><img src="/images/00000065-2022-07-08/01.jpg" alt="不動さんのほうとう"></p><p>当日までに最低限のキャンプギアを揃え，厚木で友人を拾って向かいます．河口湖でお昼と買い出しをして，ワイナリーで夕飯のお供を選んでいたらだいぶ遅くなってしまいました．日月で利用しましたが，利用客はかなり多いように思えました．コロナで入場制限をしていそうですが，制限前はどれだけぎゅうぎゅうだったんだろう…．利用される場合は早めにチェックインして，お昼は現地で作って食べるくらいがちょうどいいのかもしれません．とはいえ自分は今のところ料理に自信が皆無なので，慣れてからですね…．<br>到着後，サクッと設営（大嘘，タープを立てるのに1時間くらい溶かしました）をして，焚火と夕飯準備です．</p><p><img src="/images/00000065-2022-07-08/02.jpg" alt="テントとタープ設営後"><br>…タープしなしなじゃねえか．</p><p>夕飯は買ってきたソーセージをグリルで焼いたり，初心者おすすめメニューのアヒージョを食らったり…まあまあうまくいったのではないかと思います．焚火はまだまだ素人，バトニングちゃんとできるようになりたい…薪割り用の斧も持ってないのでほしいですね．</p><p><img src="/images/00000065-2022-07-08/03.jpg" alt="B6君デビュー"><br><img src="/images/00000065-2022-07-08/04.jpg" alt="アヒーーーーー"></p><p>夜の天気は微妙でしたが，薄雲越しの惑星や星団，登ってくる細めの月を楽しむことができました．</p><p><img src="/images/00000065-2022-07-08/05.jpg" alt="木星を眺めるの図"><br>テントの中の音が外に漏れるというのは本当で，周りの人のいびきやら子どもの声やらがめちゃくちゃ聞こえてきました．<br>そんなこんなであまり寝ずに夜が明け，朝は朝食とコーヒーを楽しみつつ，高原の気温とは思えぬ暑さにヘロヘロになりながら撤収しましたとさ．</p><p><img src="/images/00000065-2022-07-08/06.jpg" alt="朝コーヒー"><br><img src="/images/00000065-2022-07-08/07.jpg" alt="薪を頑張って燃やしてるの図，暑いです"><br><img src="/images/00000065-2022-07-08/08.jpg" alt="撤収後，お疲れ様でした"></p><p>その後はお昼食べて温泉入って帰宅．特に大きな問題もなく，良いキャンプデビューとなりました！</p><h3 id="8月-3年ぶりの乗鞍"><a href="#8月-3年ぶりの乗鞍" class="headerlink" title="8月 3年ぶりの乗鞍"></a>8月 3年ぶりの乗鞍</h3><p>8月は，3年ぶりの乗鞍に行きました．冒頭でお話した星ナビの当ブログ紹介コラムに，大学に入学して最初に見た本格的な星空が白布峠と乗鞍岳の星空だということを書かせていただきました，思い入れの強い聖地です．大学一年生にして，現地ではほとんどの人が初対面であることに緊張しながら，一抱えの荷物と一緒に一人で新島々駅まで青春18切符で行ったことを思い出します．あの時も，一晩素晴らしい星空に恵まれ，友人の望遠鏡で直焦点撮影体験をさせてもらいました．<br>それからも毎年，夏には当時お世話になった団体で乗鞍に行っていましたが，コロナ禍では団体公式で乗鞍遠征は開催されていませんでした．しかし今年は行動制限が緩和されているということで，感染対策を十分に3年ぶり6回目に足を運ぶことになりました．今ではもちろん団体の人はほとんど顔見知りの友人で，バスを都内からチャーターすることで，大量の機材を持つようになった自分でもずいぶんと快適に行けるようになりました．</p><p>都内を10時頃に出発し，畳平には16時頃に到着．雲の中という感じで，夏とは思えない寒さ．ああ例年こんな感じだったなと懐かしい思いに浸りながら機材を宿に搬入します．</p><p><img src="/images/00000065-2022-07-08/09.jpg" alt="3年ぶりの乗鞍！"></p><p>しばらくするとある程度視界は確保されましたが，夜まで快晴とはなりませんでした．とはいえ，一時的に天頂付近の雲がなくなり，標高2700mの天の川が見えました．スーパーワイドビノで見ると天の川の中の星がまあ見える見える．以前美ヶ原で見たものより一段よく見えるといったところでしょうか．また，途中天の川が薄雲を貫通して光って見えたのがとても印象的で，これが乗鞍の星空だ！ということを改めて思い出しました．<br>望遠鏡もセッティングしていたものの，日付が変わった頃から雨が降り出したためビニール袋をかぶせてテープと紐で固定，そのまま次の晩まで置いておきました．今年は翌日に乗鞍ヒルクライムを控えており，白雲荘から少し歩いたところのコンクリートの広いスペースは使えなかったので，宿の人にお願いして宿の前の坂に，なるべく邪魔にならないように機材を置いておくことができました．機材運搬の労力がかからず，とてもありがたかったです．<br>翌日は朝から剣ヶ峰へ．以前夜に登ってヘトヘトになり，もう登りたくないと思っていましたが，まあ昼間だったらいいかということで仲間についていくことにしました．</p><p><img src="/images/00000065-2022-07-08/10.jpg" alt="乗鞍ヒルクライムの自転車列，すごい数です"><br><img src="/images/00000065-2022-07-08/11.jpg" alt="富士見岳の麓から．降りていく人も大勢いるみたい"></p><p>富士見岳の麓まで歩くと，乗鞍ヒルクライムでゴール&#x2F;帰っていくものすごい数の自転車が．いつも観測している場所も自転車やら人やらでごった返していて，こんなのは見たことないという光景でした．こりゃ機材出しとけないよね．…この乗鞍ヒルクライムですが，上位陣は観光センター？から1時間足らずで畳平まで上がってくるみたいです，たぶんバスより全然速いと思います，すげー．</p><p><img src="/images/00000065-2022-07-08/12.jpg" alt="一番手前が僕，山をナメた装備です"><br><img src="/images/00000065-2022-07-08/13.jpg" alt="途中の岩場で休憩"></p><p>肩の小屋までのんびり歩き，本格？登山開始です．乗鞍は北アルプス群の中では最も簡単なので，僕のようにバカみたいな装備でも怪我に気をつけつつ山頂まで上がることができます．…とはいえ友人が持ってきた飴やらには大変お世話になったのですが…．</p><p><img src="/images/00000065-2022-07-08/14.jpg" alt="雲間から覗く北アルプス（槍，奥穂，前穂）"><br><img src="/images/00000065-2022-07-08/15.jpg" alt="権現池，火口池？になります"><br><img src="/images/00000065-2022-07-08/16.jpg" alt="御嶽山"></p><p>息は上がりますが，それでもだんだんと晴れてくる景色が素晴らしい．雲間から高難易度の北アルプス（槍，奥穂高，前穂高）や御嶽山が見えます．父がよく登山をしているので，あそこに登ったのかぁと勝手に想像したり．権現池もいい感じです．</p><p><img src="/images/00000065-2022-07-08/17.jpg" alt="乗鞍剣ヶ峰 山頂にて"></p><p>そんなこんなで山頂に到着し，記念撮影．山頂の神社で今晩の晴れを祈願し，ゆっくり降りていく頃には祈りが通じたのか青空が見え始めます．これは今晩期待できるんじゃないの？！</p><p><img src="/images/00000065-2022-07-08/18.jpg" alt="山頂売店で売ってるホットレモン，うまい！"><br><img src="/images/00000065-2022-07-08/19.jpg" alt="東大の観測所がよく見えます"><br><img src="/images/00000065-2022-07-08/20.jpg" alt="標高2800mで枝に刺さっている，カードキャプターさくらのあいつ"><br><img src="/images/00000065-2022-07-08/21.jpg" alt="肩の小屋まで降りてきました"></p><p>そして下山後は当然お昼を食べます．これがまた旨い．たぶんこのために登山してるんだと思う．</p><p><img src="/images/00000065-2022-07-08/22.jpg" alt="下山後の至福のカレーうどん"></p><p>カレーうどん．ビールも注文できたが，流石に我慢(笑)<br>その後は雷鳥を探しながら宿に戻りましたが，残念ながら今年は会うことはできませんでした．その代わり，よくわからない種類の鳥が飛んでいるのを以前より多く見た気がします．<br>お昼にビールを我慢しておきながら，宿に戻ってからは夕飯の時間までお酒を飲みながらのんびりと過ごします．その間も空の雲は昨日と比べ明らかに少なく，「あれ，もしかして今晩本当にいける…？」という空気に．</p><p><img src="/images/00000065-2022-07-08/23.jpg" alt="晴れそう！"></p><p>お風呂に入り，夜が更けます．<br>結論，大勝利と相成りました．薄明終了前から見えてはいけないレベルの天の川が見えています．素晴らしすぎる！！</p><p><img src="/images/00000065-2022-07-08/24.jpg" alt="21時半頃の天の川中心部付近"></p><p>早速撮影機材を動かします．色々と問題がありましたが，周りの助けもあってなんとか露光をかけることができました．今回は北アメリカ星雲&#x2F;ペリカン星雲をブロードバンドで露光．先日よっちゃん師の「<a href="https://www.youtube.com/watch?v=dnpL8PmTjuw">天体写真作品 評価・鑑賞会</a>」の動画で指摘されていた，星雲のRGBが交錯するような部分の透明感を表現するための素材が欲しかったためです．</p><p><img src="/images/00000065-2022-07-08/work2022-08.jpg" alt="北アメリカ星雲&#x2F;ペリカン星雲 周辺"></p><div style="text-align: center;">「北アメリカ星雲/ペリカン星雲 周辺」<br>2022年8月28日～8月29日 岐阜県高山市 乗鞍岳畳平<br>FSQ-85EDP+Flattener 1.01X<br>QHY268C<br>Gain 26/Offset 50/-20℃/180s*(51(NGC7000)+18(IC5070))<br>Optolong UV/IR Cut 2''<br>Total: 207min<br>タカハシ EM-11 Temma2 Jr. + MGEN-3<br>Adobe Lightroom CC / Photoshop CC / PixInsight/ Astro Pixel Processor<br><a href="https://www.astrobin.com/lay7c1/">AstroBin</a><br><br></div><p>北アメリカ星雲と，ペリカン星雲で上下にモザイクしています．モザイクには <a href="https://www.astropixelprocessor.com/">APP</a> を初めて使ってみました．<a href="https://so-nano-car.com/astro-pixel-processor">そーなのかーさんのブログ記事</a>が大変役に立ちました，ありがとうございます．<br>露光時間がかなり違っていたり，北アメリカ星雲が少しボケ気味になってしまったりと不完全な部分は多々ありますが，個人的には満足の行く仕上がりになったと思います．特に北アメリカ星雲の中の色の濃淡やペリカン星雲との色の差，ペリカン星雲周辺の淡く茶色っぽい領域などを表現できた気がします．何よりも，6回目の乗鞍で初めて直焦点作例を撮影できたというのが嬉しいですね．改めて乗鞍の空の素晴らしさがよくわかりました．</p><p>撮影のほうが安定してからは，坂の下のコンクリート部分（こちらも邪魔にならないよう）に TOA を出して眼視を楽しみます．</p><p><img src="/images/00000065-2022-07-08/25.jpg" alt="木星を見る"></p><p>今回は残念ながら，惑星にはあまりシーイングが良いとはいえず，止まったような惑星はなかなか見えませんでした．以下に見たものをメモしておきます．</p><ul><li><p>木星<br>あまり細かい模様は見えませんでしたが，とにかく明るい．地元で見るよりもコントラストが高いです．明るすぎて，逆に地元の方が見やすいまである笑．でもシーイングが良い時に見たら素晴らしいんだろうなあ．</p></li><li><p>土星<br>木星と違って星本体に細かい模様が少ない分こちらの方が見やすい印象．カッシーニの間隙まではバッチリ見えます．</p></li><li><p>天王星<br>初めて導入．双眼鏡でも見えるんですね．というかなんで導入したんだ()．TOA-130 + TAK3.3-UW で確かに恒星でないことがわかります．海王星も見てみたかったが，導入はしませんでした．</p></li><li><p>アルビレオ<br>50倍くらいで山の中に沈みかけの時間に見ました．やっぱ美しいです．</p></li><li><p>リゲル<br>初めて伴星の分離に成功しました．そこそこ離れていて，なるほどこんな感じに見えるのかと一つ勉強になりました．</p></li><li><p>M31<br>50倍で．あまりじっくりとは見ませんでしたが，馴染みのある感じ．</p></li><li><p>M45<br>LE50mm があったので広角で見てみました．これくらい広角だとすばる全体が見渡せて良いです．</p></li><li><p>M42（Quad BP フィルター使用）<br>電子観望してるような感じ．正立ミラーを入れているので写真通りの向きに見え，すごいリアリティ．</p></li><li><p>M27（Quad BP フィルター使用）<br>フィルターを入れても入れなくてもそこまで変わらない印象を受けました．りんごの芯がよく見えます．</p></li><li><p>h-χ<br>50倍で．シャープな光学系で広がった星団を見るのは至福のひと時です．</p></li><li><p>網状星雲（Quad BP フィルター使用）<br>TOAで一番見たかったやつ．LE50mm で見ましたが本当に素晴らしかった．以前40cmドブソニアンで見た際はもっときついフィルターを入れていたためか，あまり星が多くなく星雲だけがドン！と見えている印象でしたが，こちらはシャープな星々の海の中に，巨大で微細構造をもった星雲が確かに存在しているという臨場感がすさまじい．ほのかにHαとOIIIの違いもわかったような気もしました．</p></li><li><p>M57（Ninja400 + OIII フィルターで観望）<br>人様の機材で見ました．リングの外側のうねうねもなんとなく見えたような気がする．</p></li><li><p>らせん星雲（Ninja400 + OIII フィルターで観望）<br>こちらも自分の機材ではありません．中抜きの構造がわかりました．パイン飴みたいな感じ．</p></li></ul><p>以上です．M31 や h-χ，惑星は宿に宿泊していた他のお客さんにも見てもらいました．特に土星に感動しておられて，よかったなあと思います．一般の方は300倍程度で見ることもあまりないですからね．<br>そうそう，M13 を見忘れるという大失態に（沈んでから）気づいて頭を抱えました．他にも見忘れたものがあるかもしれませんが，登山の疲れもあったので致し方なし．それにしても QBP フィルターと LE アイピースが今回いい仕事をしてくれました．自分では持ってないので買おうかな…と思います．特にアイピースは買えるうちに…．</p><p>そんなこんなで薄明が始まってきたので眼視機材は撤収し，撮影機材もある程度片付けて1時間ほど仮眠をとりました．ガチの高山地だと片付けをするにもすぐ息があがるのでいつもの倍は疲れます．来年は体力つけないと…という気持ちになりました．<br>6時に朝飯を食べ再度少し仮眠．残りの機材も片付けて，撤収．疲れで帰りのバスの中では何度気絶したかわかりませんが，3年ぶり6回目の乗鞍．大変満足度の高い遠征となりました．</p><p><img src="/images/00000065-2022-07-08/26.jpg" alt="鶴ヶ池の前で"><br><img src="/images/00000065-2022-07-08/27.jpg" alt="白雲荘の前で"></p><p>大変お世話になりました．また来年も行くぞ！</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;星ナビ「ネットよ今夜もありがとう」コラムに弊ブログが紹介されました&quot;&gt;&lt;a href=&quot;#星ナビ「ネットよ今夜もありがとう」コラムに弊ブログが紹介されました&quot; class=&quot;headerlink&quot; title=&quot;星ナビ「ネットよ今夜もありがとう」コラムに弊ブログが紹介されました&quot;&gt;&lt;/a&gt;星ナビ「ネットよ今夜もありがとう」コラムに弊ブログが紹介されました&lt;/h3&gt;&lt;p&gt;9月5日発売の星ナビ2022年10月号に掲載させていただきました．投稿写真ではなく，「&lt;a href=&quot;http://www.astroarts.co.jp/hoshinavi/magazine/hiroba/net/index-j.shtml&quot;&gt;ネットよ今夜もありがとう&lt;/a&gt;」という天文を楽しむ人のブログやホームページを紹介するコラムです．毎度お世話になっている&lt;a href=&quot;http://morio.way-nifty.com/blog/2022/07/post-d023ea.html&quot;&gt;M&amp;amp;Mさん&lt;/a&gt;からのバトンです．もともと天体写真界隈（ネット）ではそこまで親密な友人関係を作ったり，特定のグループに所属しないように心がけていたことや，Twitter などで見かける方々はすでに紹介されているだろう（バトンを渡す相手を見つけるのが大変だろう）という勝手な思い込みがあったので，正直載ることはない，仮に指名があったとしても断るだろうと最初は思っていました．が，M&amp;amp;Mさんからの指名とあってはそのご厚意を無下にするわけにはいきませんし，よくよく見てみると自分を含め意外と紹介されてない人はいるみたいなので，バトンを引き受けることにしました．とはいっても300字程度の紹介文を書いて，あとは先方の方がよしなにやってくれるので，大変なことは全くありませんでした．&lt;/p&gt;</summary>
    
    
    
    <category term="遠征記" scheme="http://dabokun.github.io/categories/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    
    <category term="写真" scheme="http://dabokun.github.io/tags/%E5%86%99%E7%9C%9F/"/>
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="遠征記" scheme="http://dabokun.github.io/tags/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    <category term="その他" scheme="http://dabokun.github.io/tags/%E3%81%9D%E3%81%AE%E4%BB%96/"/>
    
  </entry>
  
  <entry>
    <title>2022年前半の遠征を振り返る（その2）</title>
    <link href="http://dabokun.github.io/2022/09/02/00000064-2022-05-06/"/>
    <id>http://dabokun.github.io/2022/09/02/00000064-2022-05-06/</id>
    <published>2022-09-02T11:28:20.000Z</published>
    <updated>2025-06-11T13:08:00.010Z</updated>
    
    <content type="html"><![CDATA[<h3 id="こんにちは"><a href="#こんにちは" class="headerlink" title="こんにちは"></a>こんにちは</h3><p>またまた久々の更新となります．<br>今年はだいたい月一くらいのペースで星見に遠征しています．5月は，前回の記事で清里原村に行った際の記事を書きましたが，後半は栃木県の育樹祭記念広場へ，6月は戦場ヶ原へ行きました．普段はあまり遠征で訪れない北関東のシーズン(？)です．</p><span id="more"></span><h3 id="5月-栃木県育樹祭記念広場"><a href="#5月-栃木県育樹祭記念広場" class="headerlink" title="5月 栃木県育樹祭記念広場"></a>5月 栃木県育樹祭記念広場</h3><p>育樹祭記念広場というと最初に思い浮かぶのは前回の記事でも行こうとした山梨県にある全国育樹祭記念広場ですが，どうやら栃木県にもあるらしい．当初福島県某所に行こうかと思っていたのですが，普段お世話になっている<a href="http://morio.way-nifty.com/blog/2022/06/post-b5df5b.html">M&amp;M さん</a>と，彼のご友人の<a href="https://twitter.com/UFK58Hworld">風の民さん</a>も来られるということで，そちらに進路を切り替えました．道中東京に出るついでにこんなものを借りてみました．</p><p><img src="/images/00000064-2022-05-06/01.jpg" alt="Milvus 1.4&#x2F;85"></p><p>前々から気になっていた Zeiss Milvus 1.4&#x2F;85 です．星に良いという話を聞いていたのですが，ネットに作例がほとんどないので，レンタルショップで借りてみました．レンタル日→利用日→返却日と借りることができて，レンタル料は￥4,000也．曇るとつらいですが覚悟の上です．外装は傷だらけですが，レンズ自体はキレイに見えます．<br>やはり北関東となると一人で出るのはなかなかに疲れます．途中のコンビニで夕飯を買ってサクッと現地入り．M&amp;M さんは久喜白岡JCTでの大渋滞にハマってなかなかたどり着かないようで，先に着いていた風の民さんとはじめましての挨拶をして，テキトーに機材を展開します．<br>この近くの八方ヶ原に，大学入学当初訪れた経験がありますが，その時は晴れなかったのでどのような空かはちっともわかりません．<br>薄明も終わるかという頃，最初来た時にあった薄雲もとれてきました．</p><p><img src="/images/00000064-2022-05-06/02.jpg" alt="お弁当（食べかけですみません）"><br><img src="/images/00000064-2022-05-06/03.jpg" alt="うどんが沸くのにいい季節です"></p><p>おなかがすいてきたので夕飯を………夕飯をテキトーに買いすぎました．うどんがなければ餓死するところでした．<br>今回はM8&#x2F;M20を露光．といっても，北は暗いですが南はだいぶ明るく，理想的な環境であるかは疑問です．</p><p><img src="/images/00000064-2022-05-06/work2022-05.jpg" alt="M8干潟星雲&#x2F;M20三裂星雲 周辺"></p><div style="text-align: center;">「M8干潟星雲/M20三裂星雲 周辺」<br>2022年5月28日～5月29日 栃木県矢板市 育樹祭記念広場<br>FSQ-85EDP+Flattener 1.01X<br>QHY268C<br>Gain 26/Offset 50/-20℃/180s*46<br>Optolong UV/IR Cut 2''Total: 138min<br>タカハシ EM-200 TemmaPC Jr. + MGEN-3<br>Adobe Lightroom CC / Photoshop CC / PixInsight<br><a href="https://www.astrobin.com/ehovvn/">AstroBin</a><br><br></div><p>…とはいえ，なかなかいいんじゃないでしょうか．前回のブログで Baby-Q の一様な色ズレについて指摘しましたが，フィルターを UV&#x2F;IR Cut としても変わりませんでしたので，光学系かなあと思っています．深刻度としては，PixInsight 上で容易に補正（チャンネル分解→StarAlignment→再合成）して個人的に問題ないレベルになりますので，気が向いたら工場で見てもらおうかな，くらいの軽い問題意識で落ち着いています．</p><p>EM-200を撮影に回していたので眼視は夜明け前に少しだけ，惑星を見ました．このときは木星と土星がかなり近く，50倍で同一視野に入っていたかと思います．<br>その後はのんびりと帰宅．C2をひた走って3～4時間くらいで帰宅となりました．<br>Milvus 85ですが，フルサイズ周辺では非点収差が見られ，またパープル～赤のフリンジが出てしまい，なかなかに難しいレンズだなあというのが率直な感想です．</p><p><img src="/images/00000064-2022-05-06/05_milvus_mosaic.jpg" alt="Milvus 1.4&#x2F;85 のフルサイズ周辺切出し"><br><img src="/images/00000064-2022-05-06/06.jpg" alt="バンビ付近も露光してみました"></p><p>上の通りバンビ付近も撮ってみましたが，光害がひどく僕の処理では救いようがありません．北側によくわからない縞状のアーティファクトも出てきました，これはレンズではなくカメラの問題だと思う，なんじゃこりゃ．<br>星撮りにはなんとも難しいですが，少なくとも普段撮りではかなり好みな写りをするので，予算が無限にあったら買っていたかもしれません．</p><p><img src="/images/00000064-2022-05-06/07.jpg" alt="Milvus 1.4&#x2F;85 の通常撮影テスト"><br>こういうアンダーめなシーンでの写りが個人的にすごく好きです．ミラーレスが台頭してきていますので，移行してから似たようなレンズが出てきてからかなあという気持ちもあります．</p><h3 id="6月-戦場ヶ原"><a href="#6月-戦場ヶ原" class="headerlink" title="6月 戦場ヶ原"></a>6月 戦場ヶ原</h3><p>6月は戦場ヶ原へ．調べたら2018年ぶりでした．予報が相変わらず良くなく，富士山五合目と迷いこちらに決めました．日光に行くと春曉庭ゆりんさんというかわいい猫がいる温泉をよく利用させていただいていたのですが，ちょうどコロナ禍の頃からずっと休業していて，いつまた入れるのかなと思っています．今回は別の入浴施設 ほの香 さんを利用．宿泊施設に付随？しているようで，無人で営業されています（入浴券を入口前の自販機で買うスタイル）．</p><p><img src="/images/00000064-2022-05-06/08.jpg" alt="きりふり温泉 ほの香 さん"></p><p>疲れていたのか，マスクをしたままシャワーをかぶるという謎の失態を犯しました．浴室内にほとんど人がいなかったのが救い…．</p><p><img src="/images/00000064-2022-05-06/09.jpg" alt="もうこの旅はここで終わりで良いんではないだろうか…"></p><p>温泉後はレストランで（ノンアル）ビールを飲み，いろは坂を登って三本松園地へ．現地には<a href="https://twitter.com/sasurai4649">さすらいさん</a>が先に到着していました．道中<a href="https://twitter.com/sasurai4649/status/1540771070629650433">彼も見たという鹿</a>に遭遇したりもしました．<br>もともと天気予報が芳しくなかったので，FSQ は家でお休みで眼視機材だけを持ってきていました．天気は晴れたりドン曇りになったりでしたが，最終的には天の川がしっかり見えるくらいにはなってくれました．</p><p><img src="/images/00000064-2022-05-06/10.jpg" alt="やはり北側の空は良いですね"><br>戦場ヶ原で直焦撮影するならやはり天頂～北の空になるでしょう．</p><p><img src="/images/00000064-2022-05-06/11.jpg" alt="同乗者と天の川を礼賛 写っている流星はゆっくり流れるのが見えました"><br>今回は眼視に集中していたので流星も割とたくさん見た気がします．</p><p>惑星や今シーズン初の M31，h-χ などを眼視で楽しみました．今回から EZM も導入していたので，快適な眼視環境を得ることができました．</p><p><img src="/images/00000064-2022-05-06/12.jpg" alt="EZM (自宅での使用例です)"></p><p>戦場ヶ原の締めは久々に行きたかった板橋のピノキオでホットケーキをば．朝イチで行ったので人気店ですが2番手ぐらいで入ることができました．その後は特に何事もなく帰宅．</p><p><img src="/images/00000064-2022-05-06/13.jpg" alt="ピノキオのホットケーキ"></p><p>今回のところはこんな感じで．それでは！</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;こんにちは&quot;&gt;&lt;a href=&quot;#こんにちは&quot; class=&quot;headerlink&quot; title=&quot;こんにちは&quot;&gt;&lt;/a&gt;こんにちは&lt;/h3&gt;&lt;p&gt;またまた久々の更新となります．&lt;br&gt;今年はだいたい月一くらいのペースで星見に遠征しています．5月は，前回の記事で清里原村に行った際の記事を書きましたが，後半は栃木県の育樹祭記念広場へ，6月は戦場ヶ原へ行きました．普段はあまり遠征で訪れない北関東のシーズン(？)です．&lt;/p&gt;</summary>
    
    
    
    <category term="遠征記" scheme="http://dabokun.github.io/categories/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    
    <category term="写真" scheme="http://dabokun.github.io/tags/%E5%86%99%E7%9C%9F/"/>
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="遠征記" scheme="http://dabokun.github.io/tags/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    <category term="機材" scheme="http://dabokun.github.io/tags/%E6%A9%9F%E6%9D%90/"/>
    
    <category term="レンズ" scheme="http://dabokun.github.io/tags/%E3%83%AC%E3%83%B3%E3%82%BA/"/>
    
  </entry>
  
  <entry>
    <title>2022年前半の遠征を振り返る（その1）</title>
    <link href="http://dabokun.github.io/2022/05/15/00000063-2022-first-half-lookback01/"/>
    <id>http://dabokun.github.io/2022/05/15/00000063-2022-first-half-lookback01/</id>
    <published>2022-05-15T08:58:56.000Z</published>
    <updated>2025-06-12T11:22:42.495Z</updated>
    
    <content type="html"><![CDATA[<h3 id="お久しぶりです"><a href="#お久しぶりです" class="headerlink" title="お久しぶりです"></a>お久しぶりです</h3><p>今年に入ってから，遠征記を全く書いていないことに気づきました．原因は TOA を使うようになったことでしょう．眼視というのはメシエマラソンのような修行をしない限り，また機材重量を特に気にしなければひじょうに楽なもので，観望地に着けば機材をドンと置いて，極軸はなんとなく極望にポラリスが入るように合わせ，ケーブルも電源とコントローラの二本のみです．自分で好きな天体を眺めるもよし，一緒に居合わせた人に見てもらうもよし．TOA のような収差の限りなく少ない光学系では月をみただけでもすごいすごいと言ってくれる．まあ気持ちが良いですよね．別に僕がすごいことをしているわけでもなんでもないんですが，それでもその場にいる人たちとリアルな星空の光の感動体験を共有できるのは，Twitter に写真を上げていいねが付くことに比べて代えがたい充実感を得ることができます．<br>要するに，ネット上の交友関係より星空の下のリアルな人間関係，人間関係よりは花鳥風月というメンタルになってしまったのです．「最近の人間が何に幸福を感じるのかということは人間関係のトピックばかりであるが，それは危険なことでもある」というのは有名な某中高の大先輩の言葉ですが，自分はおそらく周りの人間よりも花鳥風月に振りすぎた結果，そのメリットとデメリットの両方を受けているということになるのでしょう．ブログ執筆をするまでもなく，動画を作るまでもなく，趣味として満足してしまっているということです．天文趣味を続けることとそれを発信し続けることは，自分の中では全く別のモチベーションなんだと思います．ただそう捉えるのは逃げでしかない，これではいけないという思いもあるので，これからも気が向いたときにのんびりやっていきます．特に動画は全然やれてないですし．</p><span id="more"></span><h3 id="2022年1月-九十九谷展望公園"><a href="#2022年1月-九十九谷展望公園" class="headerlink" title="2022年1月　九十九谷展望公園"></a>2022年1月　九十九谷展望公園</h3><p>蛇足(？)はこれくらいにして，そろそろ梅雨入りということで，今年のこれまでの遠征をまとめてつらつらと書いていきます．<br>2022年観測初めは千葉県の九十九谷展望公園でした．ノーマルタイヤな家の車ではこの時期大した観望地には行くことができませんので，千葉県の凍結の少なそうな場所で．この時期はまだレナード彗星が比較的大きなトピックとなっていた頃で，夕暮れにそれを撮りに来る方もいらっしゃった気がします．<br>眼視のために買った TOA ですが，撮影テストをしてみようと思い，某補正レンズを借りて M42 を撮影していました．この日は<a href="https://twitter.com/astroryojin">りょーじん</a>さんがいらしており，FSQ-85 から回転装置についている薄い接続環を外すために軍手をお借りしました．改めてありがとうございました．前述の通り借り物の機材を使っていたので SNS やブログ以外への掲載はしていませんが，ほしい方にデータは公開していました．</p><p><img src="/images/00000063-2022-first-half-lookback01/work2022-01.jpg" alt="M42 オリオン大星雲"></p><div style="text-align: center;">「M42 オリオン大星雲」<br>2022年1月3日 19時40分 千葉県 九十九谷展望公園<br>TOA-130NS+某フラットナー<br>QHY268C<br>Gain 26/Offset 50/-20℃/180s*65<br>Total: 195min<br>タカハシ EM-200 TemmaPC Jr. + MGEN-3<br>Adobe Lightroom CC / Photoshop CC / PixInsight<br><br></div><p>星像も申し分なく，美しいのですが，某補正レンズ + APS-C のおかげでフラット補正は全くの不要．これは一つ撮影時のストレスが減っていいなあと思います．<br>またこの日はしぶんぎ座流星群のピークでもあり，カメラをしかけてはいましたがあまり大した流星は写りませんでした．目ではいくつか見えたんですけどね．</p><p><video src="https://dabokun.github.io/images/00000063-2022-first-half-lookback01/timelapse01.mp4" width="720" height="720" controls></video><br>動画だとわかりにくいかもしれませんが、最初に2つほど流星が写っているのが確認できます．<br>観望地としてトイレも使えたのはこの時期とてもありがたかったです．トイレ前には自販機もあります．ただ人気スポットなのか，明け方は流星群目当てで多くの車が集まりました．酔っぱらいのにいちゃんにも絡まれました(TOA，しまった後でよかった)．<br>帰りは<a href="https://www.youtube.com/watch?v=-lSCmI9lP08&t=249s">坂本真綾ファンならわかる某スポット</a>に立ち寄って帰宅．海ほたるでは行きと帰りで夕焼け朝焼け両方見ることができました．<br><img src="/images/00000063-2022-first-half-lookback01/01.jpg" alt="千葉県某所"><br><img src="/images/00000063-2022-first-half-lookback01/tw01.jpg" alt="海ほたるからの夕日"><br><img src="/images/00000063-2022-first-half-lookback01/tw02.jpg" alt="海ほたるからの朝日"></p><h3 id="2022年3月-西湖-星の村"><a href="#2022年3月-西湖-星の村" class="headerlink" title="2022年3月　西湖&#x2F;星の村"></a>2022年3月　西湖&#x2F;星の村</h3><p>2月は月を眺めたくらいで遠征はせず．三月に入り河口湖くらいになら行ってもいいかなと思い育樹祭記念広場を目指しました．ところが近づくについれて残っている雪の量も多く，夜間は凍結するだろうなという場所が増えていきます．こういった事態は予め想定して日の入り前に判断することにしていましたが，着いてみるとラスト数百m は完全に凍っていて怖いです，スタックしたら明らかに終わりなのは見えています．<br><img src="/images/00000063-2022-first-half-lookback01/02.jpg" alt="育樹祭記念広場手前"><br>どうやらここは普段からあまり整備はされていないようです．残念ですが育樹祭記念広場は別の機会に諦め，西湖近くの駐車場に決めました．ここもトイレがあって良いです．<br><img src="/images/00000063-2022-first-half-lookback01/03.jpg" alt="西湖からの富士山"><br>が，1時頃には曇ってしまい，機材を片付けても晴れてこなかったので早めに帰宅．高速降りてからは車も少なくほぼノンストップで帰宅することができて感動．<br>西湖で不完全燃焼だったので，よく一緒に観測に行くH君と<a href="https://twitter.com/Watanabe_3010">渡部君</a>を誘って星の村へ．<br>到着して撮影を始めるも，EM-11 の追尾がうまくいきません．なんか赤経方向に振動しているような挙動をします．クランプを締めたり，電源系統を変えてみたり色々やってみましたが原因は不明．春はよく機材トラブルに見舞われる僕です．僕は機材と奮闘しつつ，TOA は他の二人に丸投げして色々見てもらいました()．結局帰宅後地元でやり直したらそこそこうまくいった（というか，星の村での僕が追尾に厳しすぎた？あるいは後述のように色ズレが追尾エラーに見えただけ）ので，本当に原因はよくわかりません．EM-11 はカメラレンズ用にして，EM-200クラスの赤道儀もう一台あってもいいかなとは正直思っています．<br>僕の地元からレンタカーにしたらめちゃくちゃお金かかってしまい（特にまだ学生の渡部君には）申し訳なさ．晴れたからまだ良かったですけどね．<br><img src="/images/00000063-2022-first-half-lookback01/tw03.jpg" alt="撮影の様子"><br>僕が意気消沈しているなか，渡部くんが撮影の様子を写してくれていました．ありがたや．<br>この月はクラゲ星雲やマルカリアンのあたりを撮影していましたが，前述の通りで出せるクオリティにはならなかったので諦め．ちーん．</p><h3 id="2022年4月-大洗-朝霧-原村連泊"><a href="#2022年4月-大洗-朝霧-原村連泊" class="headerlink" title="2022年4月　大洗&#x2F;朝霧-原村連泊"></a>2022年4月　大洗&#x2F;朝霧-原村連泊</h3><p>4月初めは所属していたサークルの後輩と大洗へ．曇りました（完）．でも途中に寄った福岡堰の桜がとてもきれいで，本当に2年ぶりくらいに 135mm が稼働しました．この日は観測ではなく桜を見に来たんや．<br><img src="/images/00000063-2022-first-half-lookback01/tw04.jpg" alt="桜写真"><br><a href="https://twitter.com/astrodabo/status/1510917882766528514">(元ツイート)</a></p><p>とはいいつつ途中眼視をやるくらいには晴れてくれました．M13 や上ってくるアルビレオなどを見たり．惑星ランデブーも見ることができました．<br>帰りに牛久大仏にも寄りました．想像以上に大きい．<br><img src="/images/00000063-2022-first-half-lookback01/04.jpg" alt="牛久大仏くん"><br>ビームを撃たれて車を破壊されそう．</p><p>翌週はリベンジを果たすため一人で連泊．初日は朝霧です．天道（いつもの）に寄って夕飯をとり到着すると，なんか大きな車がたくさん，それと犬の鳴き声がすごい．どうやら翌日土曜日と日曜日にドッグイベントがあるそうです，全然気付かなかった…．まあライトに常時照らされるとかがなければ別段文句もありませんが，今度からはちゃんと調べるようにします．こちらも駐車スペースを取ってしまいますからね．朝霧には<a href="https://twitter.com/N_Tosh2045">N_tosh</a>さんや<a href="https://twitter.com/AstronomyPisuke">ピースケ</a>さん，<a href="https://twitter.com/7oY10">トニー</a>さんなどがいらっしゃっており，少しお話などさせていただきました．N_tosh さんはたまたま近くに停められたので，色々見ていただきました．お付き合いいただきありがとうございました．<br>撮影の方は前半はM64，後半はアンタレス付近です．月が上弦だったので前半はゆるゆると．アンタレス付近は翌夜の原村でも撮影予定でした．晴天の暗い空で改めて M13 を見てみましたが，素晴らしく見応えがあります．ピントリングを合わせてから振動が収まったあとの球状星団を構成する星々の粒子感，TAK3.3-UWでもしっかりと中心付近の星々が分離して見え，まるで星の海に飛び込んだようで思わず声が漏れます．M27, M57 などの星雲もひじょうによく見えます．本撮影中の暇な時間に眼視に興じるのは QOL が爆上がりです．<br><img src="/images/00000063-2022-first-half-lookback01/05.jpg" alt="朝霧での観望風景"><br>そんなこんなで朝になると，駐車場の外でドッグイベントのための車列とワンちゃんの鳴き声が凄まじいことになっていました．このままいても迷惑だろうと思い片付けて撤収．精進湖から358号，36号と通って南アルプス方面へと向かいます．</p><p>やまなみの湯で温泉をキメて，ネカフェで充電．すっかり連泊スタイルが板についてきた気がします．<br><img src="/images/00000063-2022-first-half-lookback01/tw05.jpg" alt="やまなみの湯"><br><img src="/images/00000063-2022-first-half-lookback01/tw06.jpg" alt="実家のような安心感"><br>この日は充電器を忘れてしまいましたが，ケーブルはあったのでなんとかなりました．危うく二泊目の原村を諦めるハメになるところでした．<br>夕方頃まで寝られたので，コンビニに寄って原村へ．到着すると，月齢も渋いからか人は全然いません．<br><img src="/images/00000063-2022-first-half-lookback01/tw07.jpg" alt="貸し切り原村"><br>途中からH君ら御一行が現地合流してくれると連絡があったので，コンビニで買い忘れたサラダをパシってのんびり過ごします．</p><p><img src="/images/00000063-2022-first-half-lookback01/06.jpg" alt="原村での観望風景"><br>連泊で疲れていたので，撮影機材は温度順応で出しつつも月が沈むまでは眼視のみ．アンタレス付近が撮影できるようになったあたりで撮影開始．途中，原村在住の町おこし団体のスタッフさん的な方がお子さんたちといらして，TOA で月を見てもらいました．小学生に（ほぼ）無収差を見せつけるという大変教育によろしくないことをしたような気がしますが，少しでも宇宙分野に興味をもってもらえたら嬉しいですね．</p><p><img src="/images/00000063-2022-first-half-lookback01/work2022-02.jpg" alt="へびつかい座ロー星付近"></p><div style="text-align: center;">「へびつかい座ロー星付近」<br>2022年4月9日～4月11日 静岡県朝霧高原，長野県原村まるやち湖駐車場<br>FSQ-85EDP+Flattener 1.01X<br>QHY268C<br>Gain 26/Offset 50/-20℃/180s*107<br>Optolong L-ProTotal: 321min<br>タカハシ EM-11 Temma2 Jr. + MGEN-3<br>Adobe Lightroom CC / Photoshop CC / PixInsight<br><a href="https://www.astrobin.com/wnm4uv/C/">AstroBin</a><br><br></div><p>というわけで二晩の星果はこんな感じ．原村ではピントを合わせた際に固定ネジを締め忘れ，なんならカメラ回転装置の固定ねじすら締め忘れているというグダグダっぷりで，星の周りに赤っぽいハロが盛大に出てしまいました．QHY カメラを APT で速いフレームレートでライブビューする手段は（ソフトを調べてみましたが）今のところなさそうなので，毎回 SharpCap に移動しているのですが，普通に考えて一つのソフトで完結させたほうが絶対良いよなあという気がします．ソフト切り替えは毎回ミスの温床です．まだ使ったことないソフト（NINAとか？）に手を出してみようかなあとも思っています．<br>薄明開始と同時にサクッと帰宅開始．中央道では毎回初狩手前あたりで眠気の限界を迎えるんですが分かる人いますか？特に機材フル稼働で二連泊だと腰もイカれててなかなかキツイ．安全第一です．</p><h3 id="2022年5月-清里-原村連泊"><a href="#2022年5月-清里-原村連泊" class="headerlink" title="2022年5月　清里-原村連泊"></a>2022年5月　清里-原村連泊</h3><p>5月は心の奥底に眠っていたS字星雲を取りたい気持ちが復活してきたので連泊でこれを撮りに行きたいと思います．東京と群馬で友人を拾って関越道経由で野辺山方面に向かいます．<br>萌木の村でカレーを食べて，初日は清里美し森です．</p><p><img src="/images/00000063-2022-first-half-lookback01/07.jpg" alt="やっぱこれだね"></p><p>到着すると星はなんとなく見えていますが雪が舞っています．止んだので TOA を出したらまた舞い始めます，嫌がらせか．結局12時頃まで待機していたらすっかり晴れて，この日の露光は完遂．</p><p><img src="/images/00000063-2022-first-half-lookback01/tw08.jpg" alt="美し森での観望風景"></p><p>そうそう，FSQ 撮影の微光星に一様な色ズレが出てしまうのが最近の悩みなのですが，個人的に鏡筒以降のスケアリングが合ってないのかなあと勝手に考えています．カメラかフィルターが光軸に対して斜めになっているとか．正直ガチ撮影からはもう身を引きたいのであまり考えないようにはしているのですが，この日は二泊を使って試しにフィルターありとなしで撮影してみることにしました．<br>清里では青白いきれいな流星を見ることができました．他の場所でも何人か見ている方がいらしたようです．<br><img src="/images/00000063-2022-first-half-lookback01/tw09.jpg" alt="流星観測報告"></p><p>翌朝は花いずみの湯で温泉に入り（ここはサウナはそこそこで水風呂が冷たい），中村農場で親子丼を食べ，諏訪のネカフェで充電です．<br><img src="/images/00000063-2022-first-half-lookback01/08.jpg" alt="やっぱこれだね"><br><img src="/images/00000063-2022-first-half-lookback01/09.jpg" alt="デジャブ"><br><a href="https://twitter.com/haya_astronomy">Ramb</a>君とどこかで落ち合えたらいいね～という話をしていたのですが，目が覚めると彼はもう原村に到着しているようです．しかも4月の時と違って先客が多いみたいです．そりゃ新月期の GW ですからねぇ．寝ている仲間を叩き起こして急いで向かいます．なんとか日の入り前に到着．車と撮影場所を確保できました．<br><img src="/images/00000063-2022-first-half-lookback01/10.jpg" alt="この日の原村は人が多かった"><br>この日は Ramb くんの他に 渡部君，<a href="https://twitter.com/antales">流れ星君</a>もいらしていました．せっかくなので 135mm を使ってもらいました．どうせ僕は使う予定もありませんでしたので．<br><img src="/images/00000063-2022-first-half-lookback01/tw10.jpg" alt="135mm使ってもらったヨ"><br><a href="https://twitter.com/Watanabe_3010/status/1523558987878191104">(元ツイート)</a><br>日付も変わり，本撮影開始後1時間あまりで体力の限界がきたので薄明前まで全機材を放置して寝てしまっていました．<br>起きてのんびり撤収．帰りは 299 号を使って小海リエックスの温泉に寄ります（ここはサウナがめちゃめちゃ暑くて水風呂がそこそこ温くて心地よい）．去年の星祭りぶりですね．食べ物を取ると眠くなるので食べ物を取らずに群馬方面に向かいつつ，途中で妙義に寄りました．中之嶽神社と妙義神社の本殿まで登らされました．なんか食べてから行けばよかった（）．</p><p>撮ったものの紹介を忘れていました．S字状暗黒星雲のあたりです．ぶっちゃけこのあたりは中途半端な焦点距離で撮ってもあまり面白くないかもしれません()．でも <a href="https://sorae.info/astronomy/20201130-barnard68-vlt.html">Barnard 68</a> などの存在も確認できるのでそれは面白いかも．</p><p><img src="/images/00000063-2022-first-half-lookback01/work2022-03.jpg" alt="S字状暗黒星雲周辺"></p><div style="text-align: center;">「S字状暗黒星雲周辺」<br>2022年5月3日～5月5日 山梨県美し森駐車場，長野県原村まるやち湖駐車場<br>FSQ-85EDP+Flattener 1.01X<br>QHY268C<br>Gain 26/Offset 50/-20℃/180s*113<br>Optolong L-Pro(56 frames)Total: 339min<br>タカハシ EM-11 Temma2 Jr. + MGEN-3<br>Adobe Lightroom CC / Photoshop CC / PixInsight<br><a href="https://www.astrobin.com/n8rwxf/">AstroBin</a><br><br></div>色ズレについては先程フィルターが原因？ということで書いたのですが，改めてフィルターなしの画像を見ても若干ズレている感じがします．![色ズレの様子](images/00000063-2022-first-half-lookback01/11.jpg)これは光学系か～？と思いつつ，一様な色ズレっぽく今のところソフト的に補正できる（RGBごとに Star Align して再合成）ので入院は時間がある時にしたいと思います()．5月後半は栃木県へ行きましたが，記事がめちゃくちゃ長くなってきたので分けたいと思います．それではまた次回．]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;お久しぶりです&quot;&gt;&lt;a href=&quot;#お久しぶりです&quot; class=&quot;headerlink&quot; title=&quot;お久しぶりです&quot;&gt;&lt;/a&gt;お久しぶりです&lt;/h3&gt;&lt;p&gt;今年に入ってから，遠征記を全く書いていないことに気づきました．原因は TOA を使うようになったことでしょう．眼視というのはメシエマラソンのような修行をしない限り，また機材重量を特に気にしなければひじょうに楽なもので，観望地に着けば機材をドンと置いて，極軸はなんとなく極望にポラリスが入るように合わせ，ケーブルも電源とコントローラの二本のみです．自分で好きな天体を眺めるもよし，一緒に居合わせた人に見てもらうもよし．TOA のような収差の限りなく少ない光学系では月をみただけでもすごいすごいと言ってくれる．まあ気持ちが良いですよね．別に僕がすごいことをしているわけでもなんでもないんですが，それでもその場にいる人たちとリアルな星空の光の感動体験を共有できるのは，Twitter に写真を上げていいねが付くことに比べて代えがたい充実感を得ることができます．&lt;br&gt;要するに，ネット上の交友関係より星空の下のリアルな人間関係，人間関係よりは花鳥風月というメンタルになってしまったのです．「最近の人間が何に幸福を感じるのかということは人間関係のトピックばかりであるが，それは危険なことでもある」というのは有名な某中高の大先輩の言葉ですが，自分はおそらく周りの人間よりも花鳥風月に振りすぎた結果，そのメリットとデメリットの両方を受けているということになるのでしょう．ブログ執筆をするまでもなく，動画を作るまでもなく，趣味として満足してしまっているということです．天文趣味を続けることとそれを発信し続けることは，自分の中では全く別のモチベーションなんだと思います．ただそう捉えるのは逃げでしかない，これではいけないという思いもあるので，これからも気が向いたときにのんびりやっていきます．特に動画は全然やれてないですし．&lt;/p&gt;</summary>
    
    
    
    <category term="遠征記" scheme="http://dabokun.github.io/categories/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    
    <category term="写真" scheme="http://dabokun.github.io/tags/%E5%86%99%E7%9C%9F/"/>
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="遠征記" scheme="http://dabokun.github.io/tags/%E9%81%A0%E5%BE%81%E8%A8%98/"/>
    
    <category term="カメラ" scheme="http://dabokun.github.io/tags/%E3%82%AB%E3%83%A1%E3%83%A9/"/>
    
    <category term="機材" scheme="http://dabokun.github.io/tags/%E6%A9%9F%E6%9D%90/"/>
    
    <category term="レンズ" scheme="http://dabokun.github.io/tags/%E3%83%AC%E3%83%B3%E3%82%BA/"/>
    
    <category term="鏡筒" scheme="http://dabokun.github.io/tags/%E9%8F%A1%E7%AD%92/"/>
    
    <category term="赤道儀" scheme="http://dabokun.github.io/tags/%E8%B5%A4%E9%81%93%E5%84%80/"/>
    
  </entry>
  
  <entry>
    <title>初めての（？）月面撮影</title>
    <link href="http://dabokun.github.io/2022/02/19/00000062-lunar-photo/"/>
    <id>http://dabokun.github.io/2022/02/19/00000062-lunar-photo/</id>
    <published>2022-02-19T09:16:12.000Z</published>
    <updated>2025-06-11T13:06:47.720Z</updated>
    
    <content type="html"><![CDATA[<h3 id="あいさつ"><a href="#あいさつ" class="headerlink" title="あいさつ"></a>あいさつ</h3><p>最近本業の研究が佳境に入っていますが，たまには望遠鏡を出して息抜きしようということで，自宅前でも簡単に撮れる月を撮ってみることにしました．<br>動画で撮って，スタック処理するのは初めてです．</p><span id="more"></span><h3 id="TOAで撮影"><a href="#TOAで撮影" class="headerlink" title="TOAで撮影"></a>TOAで撮影</h3><p>せっかく TOA があるので，これで撮りたいと思ったのですが，そもそも直焦点での撮影システムを考えることからスタートです（※別機会で以前に僕がM42を撮影していたことをご存じの方がいらっしゃるかと思いますが，その際には借り物の補正レンズを使用していたため，直焦点ではありませんでした）．<br>さて，TOA のシステムチャートを眺めてみると，直焦点撮影は</p><p>TOAドローチューブ→50.8アダプタ屈折用(TOA に付属)→CA-35(50.8)→カメラマウント DX-WR (EOS) (EF マウントの場合)</p><p>となります．CA-35(50.8)が手元にないのでダメかと思いましたが，FSQ-85 の付属パーツでもいけるのではないかということに気づき，実験してみることにしました．</p><p>TOAドローチューブ→フィルターボックス補助リング(TSA-102)→CA-35(TSA-102)→カメラマウント DX-WR (EOS)</p><p>という感じです．</p><p><img src="/images/00000062-lunar-photo/01.jpg" alt="TOA に FSQ の付属パーツをつけてみる"></p><h3 id="早速撮影"><a href="#早速撮影" class="headerlink" title="早速撮影"></a>早速撮影</h3><p>月がのぼってきたので早速試してみます．カメラはQHY-268C (フランジバックは Canon EF 44mmに調整)です．結論から述べると「少し延長すれば月撮影は問題ない」ということになりました．延長がないと，ドローチューブを最も繰り出した状態でジャスピンかどうか判断に困るような状態になります．<br>カメラ側に厚さ 4mm のリングを追加で取り付けて、確実にピントが出ることは確認できました．一眼ではこうはいかないかもしれません．また，ケラレ等も目立ったものはありませんでしたが，淡いものを同じシステムで撮影し強調した際にどうなるかは別途検証が必要かもしれません．機会があったらやってみます．</p><p><img src="/images/00000062-lunar-photo/02.jpg" alt="ピントが出るように調整後"></p><p>SharpCap での動画撮影にもあまり慣れていなかったので1時間ほど奮闘し，なんとか動画撮影に成功．AVI ファイルは重いです．6秒ほどの動画ですが，8GB くらいあります笑．月を動画で真面目に撮影する場合は空き容量の多い PC が必須ですね．</p><p><img src="/images/00000062-lunar-photo/03.jpg" alt="AVI はファイルサイズが大きい"></p><p>AutoStakkert!3 で動画解析とスタッキングをして，PixInsight で処理した結果以下のようになりました．</p><p><img src="/images/00000062-lunar-photo/work.jpg" alt="月齢18くらいの月"></p><div style="text-align: center;">「月齢18くらいの月」<br>2022年2月18日 23時53分 神奈川県 鎌倉市<br>TOA-130NS 直焦点<br>QHY268C<br>Gain 80/Offset 20/-20℃/SharpCap動画 6秒<br>タカハシ EM-200 TemmaPC Jr.<br>AutoStakkert!3 / PixInsight / Photoshop CC<br><br></div><p>解像感を高めるために Deconvolution を2回ほどかけてみています．彩度もマシマシ．露光時間を誤ったためか，一部の明るい構造の階調が少し飛んでしまっていますが，なかなかいいのではないかと思います．<br>AutoStakkert! も初めて使ってみました．使い方についてはブログ記事が豊富にあり，それを見ながらであればあまり頭を使わなくてもちゃんと処理してくれる印象がありましたが，Drizzleも入れていたせいか処理に少し時間がかかりました（10分くらい？）．<br>好シーイングの時に，もっと拡大構図で撮影できたら楽しいんだろうなあと思いますが，またの機会にということで，それでは．</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;あいさつ&quot;&gt;&lt;a href=&quot;#あいさつ&quot; class=&quot;headerlink&quot; title=&quot;あいさつ&quot;&gt;&lt;/a&gt;あいさつ&lt;/h3&gt;&lt;p&gt;最近本業の研究が佳境に入っていますが，たまには望遠鏡を出して息抜きしようということで，自宅前でも簡単に撮れる月を撮ってみることにしました．&lt;br&gt;動画で撮って，スタック処理するのは初めてです．&lt;/p&gt;</summary>
    
    
    
    <category term="天体写真" scheme="http://dabokun.github.io/categories/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="画像処理" scheme="http://dabokun.github.io/tags/%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86/"/>
    
    <category term="機材" scheme="http://dabokun.github.io/tags/%E6%A9%9F%E6%9D%90/"/>
    
    <category term="鏡筒" scheme="http://dabokun.github.io/tags/%E9%8F%A1%E7%AD%92/"/>
    
  </entry>
  
  <entry>
    <title>PJSR (PixInsight Script) コーディングTips</title>
    <link href="http://dabokun.github.io/2022/02/05/00000061-pjsr-coding-tips/"/>
    <id>http://dabokun.github.io/2022/02/05/00000061-pjsr-coding-tips/</id>
    <published>2022-02-04T17:03:20.000Z</published>
    <updated>2022-02-19T17:48:44.622Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前置き"><a href="#前置き" class="headerlink" title="前置き"></a>前置き</h3><p><a href="https://twitter.com/PG1wvzio4yvwFXW">あぷらなーと氏</a>発案の「クールファイル補正法」を行う PixInsight スクリプトを書いてみました．スクリプトの導入方法や使い方の詳細は，<a href="https://snct-astro.hatenadiary.jp/entry/2022/02/05/172636">本件言い出しっぺのだいこもん氏の記事</a>をご覧ください．<br>GitHub は<a href="https://github.com/snagahiro/CPI_script">こちら</a>．バグなどを見つけた方は Pull Request を出すか Issue にスレ立てをお願いいたします．<br>本記事では，PixInsight スクリプト（PJSR）を書く上で気づいたことを短くまとめておきます．これから PJSR を触る人の参考になると良いかなと思います．</p><span id="more"></span><h3 id="GUI-とか"><a href="#GUI-とか" class="headerlink" title="GUI とか"></a>GUI とか</h3><p>PJSR には未だドキュメントがなく，正直とっつきにくい印象を受けます．基本的には PI のObject Explorer で型や名前を見たり，既存のスクリプトを読んだりして理解していくことになるかと思います．<br>GUI については，以下の Youtube の動画が参考になるようですが，正直 Sizer の概念など，完全に理解しきれていない部分もあります．</p><div class="video-container"><iframe src="https://www.youtube.com/embed/aMwMOGpKE_k" frameborder="0" loading="lazy" allowfullscreen></iframe></div><h3 id="Image-View-ImageWindow"><a href="#Image-View-ImageWindow" class="headerlink" title="Image, View, ImageWindow"></a>Image, View, ImageWindow</h3><p>PJSR で画像処理スクリプトを書く上で触れる概念として Image, View, ImageWindow があるようです．Image &lt; View &lt; ImageWindow の順で大きなオブジェクトであり，View は image (Image型，read-only) を，ImageWindow は mainView (View型，read-only) と currentView (View型，read-only でない) の2つをプロパティオブジェクトとしてもっています．currentView は画面表示のために使う View なので，オリジナルのデータに処理を施す場合は使いません．<br>ファイルから開く場合は，ImageWindow でとりあえず開くっぽいです．</p><pre><code class="hljs JavaScript"><span class="hljs-keyword">var</span> imageWindow = <span class="hljs-title class_">ImageWindow</span>.<span class="hljs-title function_">open</span>(filePath)[<span class="hljs-number">0</span>];</code></pre><p>こんな感じ，何故か配列で返ってくるようで先頭を取り出すとうまくいきます．<br>PI でこの imageWindow を見るには，</p><pre><code class="hljs JavaScript">imageWindow.<span class="hljs-title function_">show</span>();</code></pre><p>とするだけです．よゆーですね．<br>イメージデータにアクセスするのも簡単です．</p><pre><code class="hljs JavaScript"><span class="hljs-keyword">var</span> image = imageWindow.<span class="hljs-property">mainView</span>.<span class="hljs-property">image</span>;</code></pre><p>ここまではいいのですが，問題は Image から ImageWindow を作り出すことです．<br>画像の演算自体は Image オブジェクトでやります．クールファイル補正法ではスタック画像（Image オブジェクト）が新しく生成されるわけですから，これをなんとか ImageWindow にしたい．しかし，ImageWindow.mainView.image は read-only です．単純な代入などによる改変はうまくいきません．<br>そこで，以下のようなコードで解決しました．</p><pre><code class="hljs JavaScript"><span class="hljs-keyword">var</span> someImage = <span class="hljs-title class_">Image</span>(width, height);<span class="hljs-comment">/* some process to someImage */</span><span class="hljs-keyword">var</span> someImageWindow = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageWindow</span>(someImage.<span class="hljs-property">width</span>, someImage.<span class="hljs-property">height</span>);someImageWindow.<span class="hljs-property">mainView</span>.<span class="hljs-title function_">beginProcess</span>();someImageWindow.<span class="hljs-property">mainView</span>.<span class="hljs-property">image</span>.<span class="hljs-title function_">assign</span>(someImage);someImageWindow.<span class="hljs-property">mainView</span>.<span class="hljs-title function_">endProcess</span>();</code></pre><p>beginProcess と endProcess で挟むことと，代入演算子 &#x3D; ではなく assign メソッドを使うことがミソみたいです．<br>これで someImageWindow の image プロパティに someImage をぶちこむことができるので，show などを呼べば内容を確認したり，外部ファイルに出力したりできます．</p><pre><code class="hljs JavaScript">someImageWindow.<span class="hljs-title function_">show</span>();someImageWindow.<span class="hljs-title function_">saveAs</span>(outputFilePath, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>);</code></pre><p>こんなふうにね．今回ココが分かるまでに一番時間を使った…．</p><h3 id="Image-の演算"><a href="#Image-の演算" class="headerlink" title="Image の演算"></a>Image の演算</h3><p>Image 型の画像を演算するには Image.apply を使います．</p><pre><code class="hljs JavaScript">#include&lt;pjsr/<span class="hljs-title class_">ImageOp</span>.<span class="hljs-property">jsh</span>&gt;<span class="hljs-keyword">var</span> lhsImage = <span class="hljs-title class_">Image</span>(width, height);<span class="hljs-keyword">var</span> rhsImage = <span class="hljs-title class_">Image</span>(width, height);<span class="hljs-keyword">var</span> n = someNumber;lhsImage.<span class="hljs-title function_">apply</span>(rhsImage, <span class="hljs-title class_">ImageOp</span>_Type); <span class="hljs-comment">//画像同士の演算</span>lhsImage.<span class="hljs-title function_">apply</span>(n, <span class="hljs-title class_">ImageOp</span>_Type);        <span class="hljs-comment">//画像と定数の演算</span></code></pre><p>ImageOp_Type には，単純な四則演算（ImageOp_Add, ImageOp_Sub, ImageOp_Mul, ImageOp_Div）に加えて，累乗（ImageOp_Pow）やビット演算なんかもあります．詳しくは Object Explorer→Image→Constants を見てね．画像同士の演算の場合，サイズが違うとどうなるのかは試していませんが，たぶんエラーが返ってくるんじゃないかなと思います．<br>これまでのことを組み合わせれば，ファイルリストから位置合わせなしの加算平均は例えば以下のように書けます．</p><pre><code class="hljs JavaScript"><span class="hljs-keyword">var</span> currentImageWindow = <span class="hljs-literal">null</span>;<span class="hljs-keyword">var</span> stackedImage = <span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputFiles</span>.<span class="hljs-property">length</span>; ++i) &#123;  currentImageWindow = <span class="hljs-title class_">ImageWindow</span>.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">inputFiles</span>[i])[<span class="hljs-number">0</span>];  <span class="hljs-keyword">if</span> (stackedImage == <span class="hljs-literal">null</span>) &#123;    stackedImage = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>(currentImageWindow.<span class="hljs-property">mainView</span>.<span class="hljs-property">image</span>.<span class="hljs-property">width</span>, currentImageWindow.<span class="hljs-property">mainView</span>.<span class="hljs-property">image</span>.<span class="hljs-property">height</span>);  &#125;  <span class="hljs-comment">//stacking</span>  currentImageWindow.<span class="hljs-property">mainView</span>.<span class="hljs-title function_">beginProcess</span>();  <span class="hljs-keyword">var</span> image = currentImageWindow.<span class="hljs-property">mainView</span>.<span class="hljs-property">image</span>;  image.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">inputFiles</span>.<span class="hljs-property">length</span>, <span class="hljs-title class_">ImageOp</span>_Div); <span class="hljs-comment">//divide current image</span>  stackedImage.<span class="hljs-title function_">apply</span>(image, <span class="hljs-title class_">ImageOp</span>_Add);           <span class="hljs-comment">//and add</span>  currentImageWindow.<span class="hljs-property">mainView</span>.<span class="hljs-title function_">endProcess</span>();&#125;<span class="hljs-comment">//Convert to ImageWindow Object</span><span class="hljs-keyword">var</span> stackedImageWindow = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageWindow</span>(stackedImage.<span class="hljs-property">width</span>, stackedImage.<span class="hljs-property">height</span>);stackedImageWindow.<span class="hljs-property">mainView</span>.<span class="hljs-title function_">beginProcess</span>();stackedImageWindow.<span class="hljs-property">mainView</span>.<span class="hljs-property">image</span>.<span class="hljs-title function_">assign</span>(stackedImage);stackedImageWindow.<span class="hljs-property">mainView</span>.<span class="hljs-title function_">endProcess</span>();stackedImageWindow.<span class="hljs-title function_">show</span>();</code></pre><p>currentImageWindow.mainView.image に対して破壊的操作をするので，beginProcess と endProcess で挟んでいたりするところにご注目いただければ．<br>位置合わせなしのこれくらいの内容であれば，ImageIntegration を使ってパラメタを指定して書くよりもスッキリするんじゃないかと思いますが，そこは個人によるということで…．</p><p>今回は以上です．PI スクリプトを書く人の参考になればいいなと思います．<br>では皆様，よいコーディングライフを！</p><h3 id="2022-02-20-追記-engine-部分の記述位置"><a href="#2022-02-20-追記-engine-部分の記述位置" class="headerlink" title="2022.02.20 追記 engine 部分の記述位置"></a>2022.02.20 追記 engine 部分の記述位置</h3>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;前置き&quot;&gt;&lt;a href=&quot;#前置き&quot; class=&quot;headerlink&quot; title=&quot;前置き&quot;&gt;&lt;/a&gt;前置き&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://twitter.com/PG1wvzio4yvwFXW&quot;&gt;あぷらなーと氏&lt;/a&gt;発案の「クールファイル補正法」を行う PixInsight スクリプトを書いてみました．スクリプトの導入方法や使い方の詳細は，&lt;a href=&quot;https://snct-astro.hatenadiary.jp/entry/2022/02/05/172636&quot;&gt;本件言い出しっぺのだいこもん氏の記事&lt;/a&gt;をご覧ください．&lt;br&gt;GitHub は&lt;a href=&quot;https://github.com/snagahiro/CPI_script&quot;&gt;こちら&lt;/a&gt;．バグなどを見つけた方は Pull Request を出すか Issue にスレ立てをお願いいたします．&lt;br&gt;本記事では，PixInsight スクリプト（PJSR）を書く上で気づいたことを短くまとめておきます．これから PJSR を触る人の参考になると良いかなと思います．&lt;/p&gt;</summary>
    
    
    
    <category term="画像処理" scheme="http://dabokun.github.io/categories/%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86/"/>
    
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="画像処理" scheme="http://dabokun.github.io/tags/%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>STF, HT, DBE を実装する</title>
    <link href="http://dabokun.github.io/2022/01/23/00000060-stf-ht-dbe/"/>
    <id>http://dabokun.github.io/2022/01/23/00000060-stf-ht-dbe/</id>
    <published>2022-01-23T07:46:17.000Z</published>
    <updated>2025-06-12T11:23:36.273Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script><h3 id="あいさつ"><a href="#あいさつ" class="headerlink" title="あいさつ"></a>あいさつ</h3><p>久々のブログ更新になります．<br>自作ソフトウェアに PixInsight (以下PI) における STF, HT, DBE 相当の機能を追加しました．</p><span id="more"></span><h3 id="STF"><a href="#STF" class="headerlink" title="STF"></a>STF</h3><p>ScreenTransferFunction（STF）は，PI をお使いの方であればお馴染みかと思います．<br>画像のデータではなく，伝達関数（Transfer Function，データを色や透明度などの(主に)視覚情報へ伝達するための関数）を変更することで，画像の色味などを変えるプロセスです．<br>本来伝達関数は大変奥の深い概念ではありますが，普通の RGB 画像やモノクロ画像でやることは基本的にシャドウ，中間調，ハイライトの3つのパラメタ値を変更し，それら値を元にできる Midtone Transfer Function (MTF) を変更することになります．<br>MTF は <a href="https://pixinsight.com/doc/tools/HistogramTransformation/HistogramTransformation.html">PI のドキュメント</a>や<a href="https://www.youtube.com/watch?time_continue=606&v=bugdgOojxJc&feature=emb_logo">蒼月城さんの解説動画</a>にあるように，データの値が中間調と等しい時にちょうど0.5となるようにいい感じにストレッチする関数で，次のような式で計算されます．</p><p>$$ \rm{MTF}(\it{x}\rm{;} \it{m}\rm{)} &#x3D; \begin{cases}<br>0 \hspace{40px} (x &#x3D; 0) \<br>\frac{1}{2} \hspace{40px} (x &#x3D; m)\<br>1 \hspace{40px} (x &#x3D; 1)\<br>\frac{(m-1)x}{(2m - 1)x - m} \hspace{40px} (\rm{otherwise})<br>\end{cases} $$<br><a href="https://pixinsight.com/doc/tools/HistogramTransformation/HistogramTransformation.html">PI のドキュメント</a>より</p><p>というわけで，現在のソフトに RGB それぞれのカラーバーを追加，中間調の変更機能も追加して，MTF で変換するようにしました．<br>また，PI の STF プロセスにはいい感じに画像を見やすくオートストレッチする機能もあります．中で何をやっているのかは蒼月城さんが Twitter に書いてくれていました．</p><div class="twitter-wrapper"><blockquote class="twitter-tweet"><a href="https://twitter.com/astroimageproc/status/1472872287104016385"></a></blockquote></div><script async defer src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p>これと，<a href="https://gitlab.com/pixinsight/PCL/-/blob/master/src/modules/processes/IntensityTransformations/ScreenTransferFunctionInterface.cpp#L1068">PCL のソースコード</a>を参考にすれば，ぶっちゃけ実装することは可能になります．<br><video src="https://dabokun.github.io/images/00000060-stf-ht-dbe/01.mp4" width="720" height="720" controls></video><br>できました．M42 が一気に見やすくなったところは，オートストレッチをかけているところになります．</p><h3 id="HT"><a href="#HT" class="headerlink" title="HT"></a>HT</h3><p>Histogram Transformation（HT） は STF と密接に関係しています．STF では伝達関数を変更しましたが，HT では STF での結果になるようにデータの方を変更します．基本的な考え方は STF での伝達関数の適用と同じと言っていいです．<br>PI ではもう少しパラメタがありますが，今回はそれらは無視して，RGB チャネルそれぞれのシャドウ，中間調，ハイライトの合計9つのパラメタ値をもとにデータを変更します．<br><video src="https://dabokun.github.io/images/00000060-stf-ht-dbe/02.mp4" width="720" height="720" controls></video><br>完成形はこのようになります．左下のウィンドウでは先ほどと同様に STF で伝達関数を変更するのみですが，右下のウィンドウでは実際のデータのほうが STF の変更に沿うように変換されています．右下のウィンドウのヒストグラムがちゃんと変更されているところに注目していただければ，データが変わっているということがおわかりかと思います．ユーザは9つのパラメタ値と連動する変数を上のビジュアルプログラム上に追加し，それを HT のノードに渡すようにすることで，このような処理を実現します．<br>STF と HT については変更箇所が多いのでソースコードを載せることはしません．</p><h3 id="DBE"><a href="#DBE" class="headerlink" title="DBE"></a>DBE</h3><p>DynamicBackgroundEstimation (DBE) は STF や HT とは毛色が違うものの，よく使われるプロセスです．以前 <a href="https://twitter.com/Mazic_tell_Arts">takashi さん</a>が <a href="https://github.com/takashi-154/DynamicBackgroundEstimation">Python で DBE するプログラム</a>を作られていたので，似た感じの処理ができるものを自分も作ることにしました．<br>本質的にやることは比較的単純で，</p><ol><li>ユーザ指定の点群から付近の20*20くらいのボックスを切り出してボックス内の中央値を計算する</li><li>中央値に合うように画像を曲面フィッティングしてバックグラウンドモデルとする</li><li>背景を元画像から引く（または割る）</li></ol><p>となります．<br>フィッティングはシンプルに最小二乗法を使っています．<a href="https://inak-eng.jp/2020/06/04/%E6%9C%80%E5%B0%8F%E4%BA%8C%E4%B9%97%E6%B3%95%E3%81%AB%E3%82%88%E3%82%8B2%E6%AC%A1%E5%85%83%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E6%9B%B2%E9%9D%A2%E8%BF%91%E4%BC%BC/">こちらのブログ</a>が詳しいです．<br>以下のようなコードで実装しました．</p><pre><code class="hljs Rust">dynamic_background_extraction&lt;IOValue, IOErr&gt;(    image: Image, points: Roi,    function_degree: Integer = <span class="hljs-number">1</span>) <span class="hljs-punctuation">-&gt;</span> Image, Image &#123;    <span class="hljs-keyword">let</span> <span class="hljs-variable">tag</span> = image.<span class="hljs-title function_ invoke__">tag</span>();    <span class="hljs-keyword">let</span> <span class="hljs-variable">dim</span> = image.<span class="hljs-title function_ invoke__">scalar</span>().<span class="hljs-title function_ invoke__">dim</span>();    <span class="hljs-keyword">let</span> <span class="hljs-variable">dim</span> = dim.<span class="hljs-title function_ invoke__">as_array_view</span>();    <span class="hljs-keyword">let</span> <span class="hljs-variable">func_plus_one</span> = (*function_degree + <span class="hljs-number">1</span>) <span class="hljs-keyword">as</span> <span class="hljs-type">usize</span>;    <span class="hljs-keyword">let</span> <span class="hljs-variable">params_right_num</span> = func_plus_one * func_plus_one;    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">params_right</span> = <span class="hljs-type">Vec</span>::&lt;<span class="hljs-type">f32</span>&gt;::<span class="hljs-title function_ invoke__">with_capacity</span>(params_right_num * dim[<span class="hljs-number">0</span>]);    params_right.<span class="hljs-title function_ invoke__">resize</span>(params_right_num * dim[<span class="hljs-number">0</span>], <span class="hljs-number">0.0</span>);    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">params_right</span> = Array::<span class="hljs-title function_ invoke__">from_vec</span>(params_right).<span class="hljs-title function_ invoke__">into_shape</span>(      (dim[<span class="hljs-number">0</span>], func_plus_one, func_plus_one)).<span class="hljs-title function_ invoke__">unwrap</span>();    <span class="hljs-keyword">let</span> <span class="hljs-variable">params_left_num</span> = params_right_num * params_right_num;    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">params_left</span> = <span class="hljs-type">Vec</span>::&lt;<span class="hljs-type">f32</span>&gt;::<span class="hljs-title function_ invoke__">with_capacity</span>(params_left_num * dim[<span class="hljs-number">0</span>]);    params_left.<span class="hljs-title function_ invoke__">resize</span>(params_left_num * dim[<span class="hljs-number">0</span>], <span class="hljs-number">0.0</span>);    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">params_left</span> = Array::<span class="hljs-title function_ invoke__">from_vec</span>(params_left).<span class="hljs-title function_ invoke__">into_shape</span>(      (dim[<span class="hljs-number">0</span>], func_plus_one, func_plus_one, func_plus_one, func_plus_one)).<span class="hljs-title function_ invoke__">unwrap</span>();    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">model</span> = image.<span class="hljs-title function_ invoke__">scalar</span>().<span class="hljs-title function_ invoke__">clone</span>();    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">out</span> = image.<span class="hljs-title function_ invoke__">scalar</span>().<span class="hljs-title function_ invoke__">clone</span>();    <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..dim[<span class="hljs-number">0</span>] &#123;        <span class="hljs-keyword">for</span> <span class="hljs-variable">takes_y</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..func_plus_one &#123;            <span class="hljs-keyword">for</span> <span class="hljs-variable">takes_x</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..func_plus_one &#123;                <span class="hljs-keyword">for</span> <span class="hljs-variable">inner_takes_y</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..func_plus_one &#123;                    <span class="hljs-keyword">for</span> <span class="hljs-variable">inner_takes_x</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..func_plus_one &#123;                        <span class="hljs-keyword">let</span> <span class="hljs-variable">data</span> = points.<span class="hljs-title function_ invoke__">filterx</span>(image.<span class="hljs-title function_ invoke__">scalar</span>().<span class="hljs-title function_ invoke__">slice</span>(s![i, .., ..]));                        <span class="hljs-keyword">for</span> ((x, y), _) <span class="hljs-keyword">in</span> data &#123;                            <span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = x <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> / dim[<span class="hljs-number">2</span>] <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>;                            <span class="hljs-keyword">let</span> <span class="hljs-variable">y</span> = y <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> / dim[<span class="hljs-number">1</span>] <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>;                            params_left[[i, takes_y, takes_x,                               inner_takes_y, inner_takes_x]] +=                               <span class="hljs-number">1.0</span>                               * (x <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>).<span class="hljs-title function_ invoke__">powf</span>((takes_x + inner_takes_x) <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>)                              * (y <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>).<span class="hljs-title function_ invoke__">powf</span>((takes_y + inner_takes_y) <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>);                        &#125;                    &#125;                &#125;                <span class="hljs-keyword">let</span> <span class="hljs-variable">data</span> = points.<span class="hljs-title function_ invoke__">filterx</span>(image.<span class="hljs-title function_ invoke__">scalar</span>().<span class="hljs-title function_ invoke__">slice</span>(s![i, .., ..]));                <span class="hljs-keyword">for</span> ((x, y), _) <span class="hljs-keyword">in</span> data &#123;                    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">boxdata</span> = <span class="hljs-type">Vec</span>::<span class="hljs-title function_ invoke__">new</span>();                    <span class="hljs-keyword">for</span> <span class="hljs-variable">xx</span> <span class="hljs-keyword">in</span> (x-<span class="hljs-number">10</span>).<span class="hljs-title function_ invoke__">max</span>(<span class="hljs-number">0</span>)..(x+<span class="hljs-number">10</span>).<span class="hljs-title function_ invoke__">min</span>(dim[<span class="hljs-number">2</span>]) &#123;                        <span class="hljs-keyword">for</span> <span class="hljs-variable">yy</span> <span class="hljs-keyword">in</span> (y-<span class="hljs-number">10</span>).<span class="hljs-title function_ invoke__">max</span>(<span class="hljs-number">0</span>)..(y+<span class="hljs-number">10</span>).<span class="hljs-title function_ invoke__">min</span>(dim[<span class="hljs-number">1</span>]) &#123;                            boxdata.<span class="hljs-title function_ invoke__">push</span>(model[[i, yy, xx]]);                        &#125;                    &#125;                    boxdata.<span class="hljs-title function_ invoke__">sort_by</span>(|a, b| a.<span class="hljs-title function_ invoke__">partial_cmp</span>(b).<span class="hljs-title function_ invoke__">unwrap</span>());                    <span class="hljs-keyword">let</span> <span class="hljs-variable">mid</span> = boxdata.<span class="hljs-title function_ invoke__">len</span>() / <span class="hljs-number">2</span>;                    <span class="hljs-keyword">let</span> <span class="hljs-variable">med</span> = <span class="hljs-keyword">if</span> boxdata.<span class="hljs-title function_ invoke__">len</span>() % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> &#123;                        (boxdata[mid] + boxdata[mid - <span class="hljs-number">1</span>]) / <span class="hljs-number">2.0</span>                    &#125; <span class="hljs-keyword">else</span> &#123;                        boxdata[mid]                    &#125;;                    boxdata.<span class="hljs-title function_ invoke__">clear</span>();                    <span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = x <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> / dim[<span class="hljs-number">2</span>] <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>;                    <span class="hljs-keyword">let</span> <span class="hljs-variable">y</span> = y <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> / dim[<span class="hljs-number">1</span>] <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>;                    params_right[[i, takes_y, takes_x]] +=                       med                       * (x <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>).<span class="hljs-title function_ invoke__">powf</span>(takes_x <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>)                      * (y <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>).<span class="hljs-title function_ invoke__">powf</span>(takes_y <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>);                &#125;            &#125;        &#125;        <span class="hljs-keyword">let</span> <span class="hljs-variable">params_left_vec</span> = params_left.<span class="hljs-title function_ invoke__">index_axis</span>(<span class="hljs-title function_ invoke__">Axis</span>(<span class="hljs-number">0</span>), i)                                          .<span class="hljs-title function_ invoke__">to_owned</span>().<span class="hljs-title function_ invoke__">into_raw_vec</span>();        <span class="hljs-keyword">let</span> <span class="hljs-variable">params_right_vec</span> = params_right.<span class="hljs-title function_ invoke__">index_axis</span>(<span class="hljs-title function_ invoke__">Axis</span>(<span class="hljs-number">0</span>), i)                                          .<span class="hljs-title function_ invoke__">to_owned</span>().<span class="hljs-title function_ invoke__">into_raw_vec</span>();        <span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = DMatrix::<span class="hljs-title function_ invoke__">from_vec</span>(params_right_num, params_right_num, params_left_vec);        <span class="hljs-keyword">let</span> <span class="hljs-variable">b</span> = DVector::<span class="hljs-title function_ invoke__">from</span>(params_right_vec.<span class="hljs-title function_ invoke__">clone</span>());        <span class="hljs-keyword">let</span> <span class="hljs-variable">decomp</span> = a.<span class="hljs-title function_ invoke__">lu</span>();        <span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = decomp.<span class="hljs-title function_ invoke__">solve</span>(&amp;b);        <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">sol</span> = DVector::<span class="hljs-title function_ invoke__">from</span>(params_right_vec);        <span class="hljs-keyword">match</span> x &#123;            <span class="hljs-title function_ invoke__">Some</span>(vector) =&gt; sol = vector,            <span class="hljs-literal">None</span> =&gt; &#123;                <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;failure&quot;</span>);            &#125;,        &#125;;        <span class="hljs-keyword">for</span> <span class="hljs-variable">y</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..dim[<span class="hljs-number">1</span>] &#123;            <span class="hljs-keyword">for</span> <span class="hljs-variable">x</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..dim[<span class="hljs-number">2</span>] &#123;                <span class="hljs-keyword">let</span> <span class="hljs-variable">xx</span> = x <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> / dim[<span class="hljs-number">2</span>] <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>;                <span class="hljs-keyword">let</span> <span class="hljs-variable">yy</span> = y <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> / dim[<span class="hljs-number">1</span>] <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>;                model[[i, y, x]] = <span class="hljs-number">0.0</span>;                <span class="hljs-keyword">for</span> <span class="hljs-variable">takes_x</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..func_plus_one &#123;                    <span class="hljs-keyword">for</span> <span class="hljs-variable">takes_y</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..func_plus_one &#123;                        model[[i, y, x]] +=                           sol[takes_y * func_plus_one + takes_x]                          * (xx.<span class="hljs-title function_ invoke__">powf</span>(takes_x <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>))                          * yy.<span class="hljs-title function_ invoke__">powf</span>(takes_y <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>);                    &#125;                &#125;                out[[i, y, x]] -= model[[i, y, x]];            &#125;        &#125;    &#125;                        <span class="hljs-built_in">vec!</span>[<span class="hljs-title function_ invoke__">Ok</span>(IOValue::<span class="hljs-title function_ invoke__">Image</span>(WcsArray::<span class="hljs-title function_ invoke__">from_array_and_tag</span>(Dimensioned::<span class="hljs-title function_ invoke__">new</span>(        out,        Unit::<span class="hljs-literal">None</span>,    ), tag.<span class="hljs-title function_ invoke__">clone</span>()))),         <span class="hljs-title function_ invoke__">Ok</span>(IOValue::<span class="hljs-title function_ invoke__">Image</span>(WcsArray::<span class="hljs-title function_ invoke__">from_array_and_tag</span>(Dimensioned::<span class="hljs-title function_ invoke__">new</span>(        model,        Unit::<span class="hljs-literal">None</span>,    ), tag.<span class="hljs-title function_ invoke__">clone</span>())))]&#125;</code></pre><p>実際に動かしてみると以下のようになります．</p><p><img src="/images/00000060-stf-ht-dbe/dbe.png" alt="DBE"></p><p>画像は <a href="https://github.com/takashi-154/DynamicBackgroundEstimation/blob/8720542afcc79cf825d3869f4d1c750d3a3215f1/image.fts">takashi さんのデータ</a>を無許可でお借りしています．ごめんなさいm(_ _)m（Github で MIT ライセンスで公開されているデータなのできっと許してくれるはず）まだビジュアルプログラムのノードにオーサーシップを明示することはしていないのですが，その暁には彼の名前は必ず含めるつもりです．他にもテスト用の、被りがあるデータを提供してくださる方を募集しております。^^<br>上の例では点群は <a href="https://github.com/takashi-154/DynamicBackgroundEstimation/blob/5a59a2e52de35ae9c99caf73b484a0c82f791bbf/pointlist.npy">takashi さんのもの</a>と同様で，二次曲面でフィッティングしています．左下が元画像，右上が推定されたバックグラウンドモデル，右下がモデルを引き算した結果です．元画像よりも強調していますが，明るさの勾配は除去できているのではないでしょうか．</p><h3 id="まとめ"><a href="#まとめ" class="headerlink" title="まとめ"></a>まとめ</h3><p>さて，今回は後処理における三種類のプロセスを作ってみました．まだまだデータを仕上げるには必要なプロセスがたくさんありますが，その中身についてちまちま勉強して追実装するのはなかなか楽しいので今後も続けていきたいと思います．</p>]]></content>
    
    
    <summary type="html">&lt;script type=&quot;text/javascript&quot; async src=&quot;https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML&quot;&gt;&lt;/script&gt;


&lt;h3 id=&quot;あいさつ&quot;&gt;&lt;a href=&quot;#あいさつ&quot; class=&quot;headerlink&quot; title=&quot;あいさつ&quot;&gt;&lt;/a&gt;あいさつ&lt;/h3&gt;&lt;p&gt;久々のブログ更新になります．&lt;br&gt;自作ソフトウェアに PixInsight (以下PI) における STF, HT, DBE 相当の機能を追加しました．&lt;/p&gt;</summary>
    
    
    
    <category term="画像処理" scheme="http://dabokun.github.io/categories/%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86/"/>
    
    
    <category term="写真" scheme="http://dabokun.github.io/tags/%E5%86%99%E7%9C%9F/"/>
    
    <category term="天体写真" scheme="http://dabokun.github.io/tags/%E5%A4%A9%E4%BD%93%E5%86%99%E7%9C%9F/"/>
    
    <category term="画像処理" scheme="http://dabokun.github.io/tags/%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86/"/>
    
    <category term="Rust" scheme="http://dabokun.github.io/tags/Rust/"/>
    
  </entry>
  
  <entry>
    <title>【やってしまった！】TOA-130NS 導入の裏？話</title>
    <link href="http://dabokun.github.io/2021/11/10/00000059-toa130ns/"/>
    <id>http://dabokun.github.io/2021/11/10/00000059-toa130ns/</id>
    <published>2021-11-10T14:22:54.000Z</published>
    <updated>2025-06-11T13:06:50.560Z</updated>
    
    <content type="html"><![CDATA[<h3 id="あいさつ"><a href="#あいさつ" class="headerlink" title="あいさつ"></a>あいさつ</h3><p>こんにちは、書きたい遠征記など色々溜まってはいるのですが，この度なんと TOA を導入してしまったので，先にご報告として書いておきます．</p><span id="more"></span><h3 id="動画で報告"><a href="#動画で報告" class="headerlink" title="動画で報告"></a>動画で報告</h3><p>あいさつから動画一発目が開封動画ですまない…という感じなのですが，一生に一度あるかないかの大物！ということで動画にしました．</p><div class="video-container"><iframe src="https://www.youtube.com/embed/QHfbwZOFI2Y" frameborder="0" loading="lazy" allowfullscreen></iframe></div><p>動画でも述べていますが，バンドは純正ではなく MoreBlue さんの 156mm に（現在リンクが見当たりません），<a href="http://www.moreblue.co.jp/shopdetail/000000000599/">ロスマンディ規格のドデカいアリガタ</a>で，<a href="https://www.starbase.co.jp/SHOP/SB-A135.html">赤道儀側にこれまたデカいアリミゾ</a>を利用しています．重心が赤道儀側に下がるばかりでなく，鏡筒上側にスペーサーを挟んでトッププレートを入れることで，頑張れば片手でも持てるようになります．<br>試しに乗せてみましたが，筋力のない自分でもそれなりに楽に乗せることができました．</p><p><img src="/images/00000059-toa130ns/01.jpg" alt="EM-200 + TOA-130NS"><br><img src="/images/00000059-toa130ns/02.jpg" alt="TOA-130NSの前玉"><br>かっこいい…</p><p>アイピースも TAK3.3-UW に NAV7-SW と，抜かりない感じにできたのではないかと思います．本気で眼視やりてー！という意気込みです．<br><a href="/2020/08/22/00000037-2020-08-hoshinomura/">昨年8月に TOA で色々見させてもらった</a>時から（あの時は双眼でしたけど笑）ずっと，いつか手にすることは心のなかで決めていたので，まさかこんな早いとは思いませんでしたが，入手できて良かったと思います．<br>天文人口分布の中ではまだギリ（？）若手であろうという自負はありますので，まだ目が衰えないうちにこれでたくさんの天体を見て知り，マニアックな天体の撮影にも繋げていくことで充実した天文ライフを送れればいいかなと勝手に思っています。</p><p>小海で開催される星と自然のフェスタは現状晴れそうなので行こうと思います．ここで月などを眺めるのが TOA のファーストライトになるかと思います．アイドリング禁止がつらいので夜間は会場とは別の場所に移動するかもしれませんが，知り合いやはじめましての方にお会いできるのも含め，今からとても楽しみです～</p><p>ではでは！</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;あいさつ&quot;&gt;&lt;a href=&quot;#あいさつ&quot; class=&quot;headerlink&quot; title=&quot;あいさつ&quot;&gt;&lt;/a&gt;あいさつ&lt;/h3&gt;&lt;p&gt;こんにちは、書きたい遠征記など色々溜まってはいるのですが，この度なんと TOA を導入してしまったので，先にご報告として書いておきます．&lt;/p&gt;</summary>
    
    
    
    <category term="機材" scheme="http://dabokun.github.io/categories/%E6%A9%9F%E6%9D%90/"/>
    
    
    <category term="機材" scheme="http://dabokun.github.io/tags/%E6%A9%9F%E6%9D%90/"/>
    
    <category term="鏡筒" scheme="http://dabokun.github.io/tags/%E9%8F%A1%E7%AD%92/"/>
    
  </entry>
  
  <entry>
    <title>PixInsight Class Library を自作プログラムから呼び出してみる</title>
    <link href="http://dabokun.github.io/2021/07/17/00000058-call-pcl/"/>
    <id>http://dabokun.github.io/2021/07/17/00000058-call-pcl/</id>
    <published>2021-07-17T06:46:31.000Z</published>
    <updated>2025-06-11T14:31:05.466Z</updated>
    
    <content type="html"><![CDATA[<h3 id="あいさつ"><a href="#あいさつ" class="headerlink" title="あいさつ"></a>あいさつ</h3><p>こんにちは．突然ですが，皆さんは PixInsight Class Library（PCL）をご存知でしょうか．PixInsight 内部の機能がプログラムの形で提供されています．</p><blockquote><p>The PixInsight Class Library (PCL) is a C++ development framework to build PixInsight modules.<br>PixInsight modules are special shared libraries (.so files on FreeBSD and Linux; .dylib under macOS; .dll files on Windows) that communicate with the PixInsight core application through a high-level API provided by PCL. Along with a core communication API, PCL includes a comprehensive set of image processing algorithms, ranging from geometrical transformations to multiscale analysis algorithms, most of them available as multithreaded parallel implementations. PCL provides also rigorous and efficient implementations of essential astronomical algorithms, including state-of-the-art solar system ephemerides, vector astrometry, and reduction of positions of solar system and stellar objects.<br><a href="https://pixinsight.com/developer/pcl/">PixInsight Class Library</a>― by Pleiades Astrophoto S.L.</p></blockquote><p>私は普段 Rust と呼ばれるちょっとモダンなプログラミング言語を使っているのですが，C++ との Foreign Function Interface（FFI）を学んでいるうちに，あれ，これ PCL も呼べるんじゃね？ということに気づいたので，せっかくならやってみることにしました．</p><span id="more"></span><h3 id="やり方"><a href="#やり方" class="headerlink" title="やり方"></a>やり方</h3><p>PCL には Hello World のようなサンプルがないので，PCL から Version を表示する機能を呼んでやることを目標にします．<br><img src="/images/00000058-call-pcl/01.jpg" alt="このへんのコードを呼び出したい">↑のような PCL のコードを呼び出したいです．</p><p>以下にやり方をつらつらと書いていきます．<br>OS は Windows 10 で，Git と Rust コンパイラ，CMake，Visual Studio（2019 Community）がインストールされていることが前提です．<br>Rust から C++ を呼ぶのは若干めんどくさく，</p><ol><li><p>呼び出したい機能が格納されたスタティックライブラリを用意する．</p></li><li><p>C++ 側のインタフェースを用意して，1.のライブラリとリンクしてビルドする．（今回はCMakeを使います）</p></li><li><p>C++ 側のヘッダーから Rust のバインディングを自動生成する．（bindgen crate を使います）</p></li><li><p>Rust の本番アプリケーションから呼び出す．</p></li></ol><p>みたいな流れになります．<br>2，3については，Rust の build script を使ってビルド時によしなにやってくれるようにします．<br>順番にやっていきましょう．</p><h4 id="呼び出したい機能が格納されたスタティックライブラリを用意"><a href="#呼び出したい機能が格納されたスタティックライブラリを用意" class="headerlink" title="呼び出したい機能が格納されたスタティックライブラリを用意"></a>呼び出したい機能が格納されたスタティックライブラリを用意</h4><p>呼び出したい機能が格納されたスタティックライブラリとは，PCL のことです．ただ，PCL はソースコードの形で提供されているため，頑張ってビルドします．<br>まず PCL リポジトリをクローン（ローカルにダウンロード）</p><pre><code class="hljs plaintext">$ git clone https://gitlab.com/pixinsight/PCL/</code></pre><p>PCLDIR, PCLBINDIR64, PCLLIBDIR64, PCLINCDIR, PCLSRCDIRにパスを設定．（<a href="https://gitlab.com/pixinsight/PCL/">こちら</a>を参考に）<br>Visual Studio 2019 を開き，\PCL\src\pcl\windows\vc16\PCL.vcxproj を開く．ビルドの設定をRelease, x64にします．そのままやるとこの後エラーが出るので，以下のコードをちょっと修正しました．</p><pre><code class="hljs c++"><span class="hljs-comment">//DrizzleData.cpp 481行目あたり，</span>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( element.<span class="hljs-built_in">Name</span>() == <span class="hljs-string">&quot;CFASourceImage&quot;</span> )  &#123;    <span class="hljs-comment">// optional</span>    m_cfaSourceFilePath = element.<span class="hljs-built_in">Text</span>().<span class="hljs-built_in">Trimmed</span>();    m_cfaSourcePattern = element.<span class="hljs-built_in">AttributeValue</span>( <span class="hljs-string">&quot;pattern&quot;</span> );    String channel = element.<span class="hljs-built_in">AttributeValue</span>( <span class="hljs-string">&quot;channel&quot;</span> );    <span class="hljs-keyword">if</span> ( !channel.<span class="hljs-built_in">IsEmpty</span>() )      <span class="hljs-comment">//intへのキャストを追加，たぶんオーバーロードがうまくいってない</span>      m_cfaSourceChannel = <span class="hljs-built_in">Range</span>( (<span class="hljs-type">int</span>)channel.<span class="hljs-built_in">ToInt</span>(), <span class="hljs-number">-1</span>, int32_max );  &#125;</code></pre><p>コンパイラによってはうまく動くのかもしれませんが，少なくとも自分の環境では無理でしたので，今のとここのような修正になっています．<br>ビルドすると，PCLLIBDIR64 に設定したパスにスタティックライブラリができます．</p><p><img src="/images/00000058-call-pcl/02.jpg" alt="PCLのスタティックライブラリができた！"></p><h4 id="C-側のインタフェースを用意，PCL-とリンク，Rust-バインディングの自動生成"><a href="#C-側のインタフェースを用意，PCL-とリンク，Rust-バインディングの自動生成" class="headerlink" title="C++ 側のインタフェースを用意，PCL とリンク，Rust バインディングの自動生成"></a>C++ 側のインタフェースを用意，PCL とリンク，Rust バインディングの自動生成</h4><p>次に，C++ 側のインタフェースを用意します．</p><pre><code class="hljs c++"><span class="hljs-comment">//pcl_cpp.hpp</span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Pcl_rs</span>&#123;<span class="hljs-keyword">public</span>:    <span class="hljs-built_in">Pcl_rs</span>();    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print_pcl_version</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span>;&#125;;</code></pre><pre><code class="hljs c++"><span class="hljs-comment">//pcl_cpp.cpp</span><span class="hljs-meta">#<span class="hljs-keyword">define</span> __PCL_WINDOWS</span><span class="hljs-comment">// include the local headers</span><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;pcl/Version.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;pcl_cpp.hpp&quot;</span></span>Pcl_rs::<span class="hljs-built_in">Pcl_rs</span>() &#123;&#125;<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Pcl_rs::print_pcl_version</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span><span class="hljs-function"></span>&#123;  <span class="hljs-comment">//ここでpclの機能を実際に呼んでます</span>  std::cout &lt;&lt; pcl::Version::<span class="hljs-built_in">AsString</span>() &lt;&lt; std::endl;  <span class="hljs-keyword">return</span>;&#125;</code></pre><p>pcl_cpp.cpp は CMake を使ってビルドするので，CMakeList.txtを用意します．</p><pre><code class="hljs CMake"><span class="hljs-comment">#CMakeList.txt</span><span class="hljs-keyword">cmake_minimum_required</span>(VERSION <span class="hljs-number">3.5</span>)<span class="hljs-keyword">project</span>(pcl_cpp)<span class="hljs-keyword">set</span>(CMAKE_CXX_STANDARD <span class="hljs-number">11</span>)<span class="hljs-keyword">set</span>(<span class="hljs-keyword">TARGET</span> pcl_cpp)<span class="hljs-comment">#自身の環境によって変更してください</span><span class="hljs-keyword">include_directories</span>(/path/to/PCLINCDIR)<span class="hljs-keyword">add_library</span>(<span class="hljs-variable">$&#123;TARGET&#125;</span>  STATIC    pcl_cpp.cpp)<span class="hljs-keyword">target_link_libraries</span>(<span class="hljs-variable">$&#123;TARGET&#125;</span>  PRIVATE)<span class="hljs-keyword">install</span> (TARGETS <span class="hljs-variable">$&#123;TARGET&#125;</span> DESTINATION .)</code></pre><p>Rust の ライブラリプロジェクトを用意します．これが本番アプリケーションという体です．<br>ライブラリプロジェクトなので，別のプログラムに移植することは簡単です．</p><pre><code class="hljs plaintext">$ cargo new pcl-rs --lib //ライブラリプロジェクトを作る</code></pre><p>上に書いた3つを以下のように配置します．</p><pre><code class="hljs plaintext">├─pcl-rs│  │  build.rs│  │  Cargo.toml│  ││  ├─src│  │  │  lib.rs│  │  │  main.rs│  │  │  │  │  └─pcl_cpp│  │          CMakeLists.txt│  │          pcl_cpp.cpp│  │          pcl_cpp.hpp</code></pre><p>触れていないファイルがいつかありますが後述します．<br>build.rs が 本番アプリケーションのビルド時に走るスクリプトです．ここでCMake，bindgenを使って，Rust から pcl_cpp.cpp の機能を使えるようにします．<br>まず Cargo.toml に依存ライブラリを記載．</p><pre><code class="hljs plaintext"># Cargo.toml[dependencies]libc = &quot;0.2.51&quot;[build-dependencies]cc = &quot;1.0.35&quot;bindgen = &quot;0.52&quot;libc = &quot;0.2.51&quot;cmake = &quot;0.1&quot;</code></pre><p>ビルドスクリプトを書いていきます．</p><pre><code class="hljs Rust"><span class="hljs-comment">//build.rs</span><span class="hljs-keyword">extern</span> <span class="hljs-keyword">crate</span> bindgen;<span class="hljs-keyword">use</span> cmake;<span class="hljs-keyword">use</span> std::env;<span class="hljs-keyword">use</span> std::path::PathBuf;<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;    <span class="hljs-comment">//pcl_cpp.cppかpcl_hpp.cppが変更された場合に走る</span>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;cargo:rerun-if-changed=src/pcl_cpp/pcl_cpp.cpp&quot;</span>);    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;cargo:rerun-if-changed=src/pcl_cpp/pcl_cpp.hpp&quot;</span>);        <span class="hljs-keyword">let</span> <span class="hljs-variable">out_path</span> = PathBuf::<span class="hljs-title function_ invoke__">from</span>(env::<span class="hljs-title function_ invoke__">var</span>(<span class="hljs-string">&quot;OUT_DIR&quot;</span>).<span class="hljs-title function_ invoke__">unwrap</span>());    <span class="hljs-keyword">let</span> <span class="hljs-variable">out_path</span> = out_path.<span class="hljs-title function_ invoke__">to_str</span>().<span class="hljs-title function_ invoke__">unwrap</span>();    <span class="hljs-comment">//リンクするライブラリを探すパス</span>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;cargo:rustc-link-search=&#123;&#125;/build/Release/&quot;</span>, out_path);    <span class="hljs-comment">//自身の環境によって変更してください</span>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;cargo:rustc-link-search=native=/path/to/PCLLIBDIR64&quot;</span>);    <span class="hljs-comment">//Windows でビルドする場合に必要</span>    <span class="hljs-comment">//User32.Lib の場所を指定</span>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;cargo:rustc-link-search=native=C:/Program Files (x86)/Windows Kits/10/Lib/10.0.19041.0/um/x64&quot;</span>);        <span class="hljs-comment">//リンクするライブラリ</span>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;cargo:rustc-link-lib=static=pcl_cpp&quot;</span>);    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;cargo:rustc-link-lib=static=PCL-pxi&quot;</span>);    <span class="hljs-comment">//Windows でビルドする場合に必要</span>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;cargo:rustc-link-lib=static=User32&quot;</span>);    <span class="hljs-keyword">let</span> <span class="hljs-variable">out_path</span> = PathBuf::<span class="hljs-title function_ invoke__">from</span>(env::<span class="hljs-title function_ invoke__">var</span>(<span class="hljs-string">&quot;OUT_DIR&quot;</span>).<span class="hljs-title function_ invoke__">unwrap</span>());    <span class="hljs-keyword">let</span> <span class="hljs-variable">_dst</span> = cmake::Config::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-string">&quot;src/pcl_cpp&quot;</span>).<span class="hljs-title function_ invoke__">generator</span>(<span class="hljs-string">&quot;Visual Studio 16 2019&quot;</span>).<span class="hljs-title function_ invoke__">build</span>();         <span class="hljs-comment">//pcl_cpp.hpp からバインディング生成</span>    <span class="hljs-keyword">let</span> <span class="hljs-variable">bindings</span> = bindgen::Builder::<span class="hljs-title function_ invoke__">default</span>()        .<span class="hljs-title function_ invoke__">clang_arg</span>(<span class="hljs-string">&quot;-x&quot;</span>)        .<span class="hljs-title function_ invoke__">clang_arg</span>(<span class="hljs-string">&quot;c++&quot;</span>)        .<span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">&quot;src/pcl_cpp/pcl_cpp.hpp&quot;</span>)        .<span class="hljs-title function_ invoke__">parse_callbacks</span>(<span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(bindgen::CargoCallbacks))        .<span class="hljs-title function_ invoke__">generate</span>()        .<span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-string">&quot;Unable to generate bindings&quot;</span>);    bindings        .<span class="hljs-title function_ invoke__">write_to_file</span>(out_path.<span class="hljs-title function_ invoke__">join</span>(<span class="hljs-string">&quot;pcl_cpp.rs&quot;</span>))        .<span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-string">&quot;Couldn&#x27;t write bindings!&quot;</span>);&#125;</code></pre><p>スクリプトの細かい説明は省きますが，ビルドスクリプトが走ると，OUT_DIR で設定されたパス以下に pcl_cpp.rs バインディングが自動生成されます．<br>ここに，C++側のクラス，メソッドの情報などが入っています．</p><h4 id="Rust-の本番アプリケーションから呼出し"><a href="#Rust-の本番アプリケーションから呼出し" class="headerlink" title="Rust の本番アプリケーションから呼出し"></a>Rust の本番アプリケーションから呼出し</h4><p>あとは Rust 側のライブラリでこのバインディングを読み込めばOKです．<br>lib.rs に以下を書いて，</p><pre><code class="hljs Rust"><span class="hljs-comment">//lib.rs</span><span class="hljs-meta">#![allow(non_upper_case_globals)]</span><span class="hljs-meta">#![allow(non_camel_case_types)]</span><span class="hljs-meta">#![allow(non_snake_case)]</span><span class="hljs-meta">#![allow(dead_code)]</span>include!(<span class="hljs-built_in">concat!</span>(<span class="hljs-built_in">env!</span>(<span class="hljs-string">&quot;OUT_DIR&quot;</span>), <span class="hljs-string">&quot;/pcl_cpp.rs&quot;</span>));<span class="hljs-comment">//自動生成されたバインディングを読み込む</span></code></pre><p>main アプリケーションで実際に使ってみます．</p><pre><code class="hljs Rust"><span class="hljs-comment">//main.rs</span><span class="hljs-keyword">use</span> pcl_rs::Pcl_rs;<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;  <span class="hljs-comment">//本番アプリケーションではこのように unsafe ブロックで囲んで使う</span>  <span class="hljs-keyword">unsafe</span> &#123;      <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">my_pcl</span> = Pcl_rs::<span class="hljs-title function_ invoke__">new</span>();      my_pcl.<span class="hljs-title function_ invoke__">print_pcl_version</span>();  &#125;&#125;</code></pre><p>Rust でビルドすると…</p><p><img src="/images/00000058-call-pcl/03.jpg" alt="PCL のバージョンが出た！"></p><p>Rust で作ったライブラリから PCL を呼び出して，バージョンが出ました！めでたしめでたし．</p><h3 id="まとめ"><a href="#まとめ" class="headerlink" title="まとめ"></a>まとめ</h3><p>まだ PCL でどれだけのことができるのかわかっていませんが，Rust 側とのデータのコミュニケーションができれば，PCL で提供されている数多くの機能を自作プログラムから呼び出して利用することができるようになりました．<br>これは実質 PixInsight のすべての力を手に入れたと言っても過言ではない…？<br>今回のテクニックは，PCL 以外にも C++ で書かれたライブラリを利用する時に有用です．<br>また何か発展があればブログに書きたいと思います！<br>それでは．</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;あいさつ&quot;&gt;&lt;a href=&quot;#あいさつ&quot; class=&quot;headerlink&quot; title=&quot;あいさつ&quot;&gt;&lt;/a&gt;あいさつ&lt;/h3&gt;&lt;p&gt;こんにちは．突然ですが，皆さんは PixInsight Class Library（PCL）をご存知でしょうか．PixInsight 内部の機能がプログラムの形で提供されています．&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The PixInsight Class Library (PCL) is a C++ development framework to build PixInsight modules.&lt;br&gt;PixInsight modules are special shared libraries (.so files on FreeBSD and Linux; .dylib under macOS; .dll files on Windows) that communicate with the PixInsight core application through a high-level API provided by PCL. Along with a core communication API, PCL includes a comprehensive set of image processing algorithms, ranging from geometrical transformations to multiscale analysis algorithms, most of them available as multithreaded parallel implementations. PCL provides also rigorous and efficient implementations of essential astronomical algorithms, including state-of-the-art solar system ephemerides, vector astrometry, and reduction of positions of solar system and stellar objects.&lt;br&gt;&lt;a href=&quot;https://pixinsight.com/developer/pcl/&quot;&gt;PixInsight Class Library&lt;/a&gt;― by Pleiades Astrophoto S.L.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;私は普段 Rust と呼ばれるちょっとモダンなプログラミング言語を使っているのですが，C++ との Foreign Function Interface（FFI）を学んでいるうちに，あれ，これ PCL も呼べるんじゃね？ということに気づいたので，せっかくならやってみることにしました．&lt;/p&gt;</summary>
    
    
    
    <category term="画像処理" scheme="http://dabokun.github.io/categories/%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86/"/>
    
    
    <category term="画像処理" scheme="http://dabokun.github.io/tags/%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86/"/>
    
    <category term="Rust" scheme="http://dabokun.github.io/tags/Rust/"/>
    
    <category term="C++" scheme="http://dabokun.github.io/tags/C/"/>
    
  </entry>
  
</feed>
